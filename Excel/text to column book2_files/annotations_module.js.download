(function(g){var window=this;'use strict';var Ri=function(Y){Y.publish("cardstatechange",Y.tD()&&Y.qz()?1:0)},Df=function(Y,u){var n=g.mg(u),U=n?u:arguments;
for(n=n?0:1;n<U.length;n++){if(Y==null)return;Y=Y[U[n]]}return Y},M_q=function(Y){var u=g.YS(Y);
Y=g.Ui(Y);return new g.gh(u.x,u.y,Y.width,Y.height)},sHG=function(Y,u,n){var U=U===void 0?{}:U;
var k;return k=g.s2(Y,u,function(){g.dT(k);n.apply(Y,arguments)},U)},h4=function(Y){Y=g.SB(Y);
delete xD[Y];g.i4(xD)&&lX&&lX.stop()},GmC=function(){lX||(lX=new g.Vp(function(){deQ()},20));
var Y=lX;Y.isActive()||Y.start()},deQ=function(){var Y=g.iQ();
g.$$(xD,function(u){Aug(u,Y)});
g.i4(xD)||GmC()},wt=function(Y,u,n,U){g.SK.call(this);
if(!Array.isArray(Y)||!Array.isArray(u))throw Error("Start and end parameters must be arrays");if(Y.length!=u.length)throw Error("Start and end points must be the same length");this.j=Y;this.S=u;this.duration=n;this.J=U;this.coords=[];this.progress=this.W=0;this.G=null},Aug=function(Y,u){u<Y.startTime&&(Y.endTime=u+Y.endTime-Y.startTime,Y.startTime=u);
Y.progress=(u-Y.startTime)/(Y.endTime-Y.startTime);Y.progress>1&&(Y.progress=1);Y.W=1E3/(u-Y.G);Y.G=u;jHy(Y,Y.progress);Y.progress==1?(Y.K=0,h4(Y),Y.onFinish(),Y.B3()):Y.isPlaying()&&Y.eR()},jHy=function(Y,u){typeof Y.J==="function"&&(u=Y.J(u));
Y.coords=Array(Y.j.length);for(var n=0;n<Y.j.length;n++)Y.coords[n]=(Y.S[n]-Y.j[n])*u+Y.j[n]},KXu=function(Y,u){g.Vy.call(this,Y);
this.coords=u.coords;this.x=u.coords[0];this.y=u.coords[1];this.z=u.coords[2];this.duration=u.duration;this.progress=u.progress;this.fps=u.W;this.state=u.K},Wb=function(Y,u,n,U,k){wt.call(this,u,n,U,k);
this.element=Y},p7$=function(Y,u,n,U,k){if(u.length!=2||n.length!=2)throw Error("Start and end points must be 2D");
Wb.call(this,Y,u,n,U,k)},LX$=function(Y){return Math.pow(Y,3)},t_G=function(Y){return 3*Y*Y-2*Y*Y*Y},BmC=function(Y){g.e.call(this);
this.j=Y||window;this.K=[]},et=function(Y){return Y.baseUrl||null},bX=function(Y,u){return g.BV(g.dA(Y,u),function(n){return!!n})},odu=function(Y,u,n){function U(T0){var SM=T0.hovercardButton;
if(!SM)return null;SM=SM.subscribeButtonRenderer;if(!SM)return null;var CY=m(SM.unsubscribedButtonText),uB=m(SM.subscribedButtonText);if(SM.subscribed){var cc=m(SM.subscriberCountWithUnsubscribeText);var J7=m(SM.subscriberCountText)}else cc=m(SM.subscriberCountText),J7=m(SM.subscriberCountWithSubscribeText);var uQ=null;if(T0.signinEndpoint){uQ=Df(T0,"signinEndpoint","webNavigationEndpointData","url");if(!uQ){var sq,CR;uQ=(CR=g.z((sq=SM.signInEndpoint)==null?void 0:sq.commandMetadata,g.L7))==null?
void 0:CR.url}if(!uQ)return null}return CY&&(uB||uQ)?{subscribed:SM.subscribed,subscribeText:CY,subscribeCount:cc,unsubscribeText:uB,unsubscribeCount:J7,enabled:SM.enabled,signinUrl:uQ,classic:T0.useClassicSubscribeButton}:null}
function k(T0){if(T0){var SM=[],CY=T0.videoId;CY&&SM.push("v="+CY);(CY=T0.playlistId)&&SM.push("list="+CY);(T0=T0.startTimeSeconds)&&SM.push("t="+T0);return"/watch?"+SM.join("&")}}
function m(T0){if(!T0)return null;var SM=T0.simpleText;return SM?SM:T0.runs?g.dA(T0.runs,function(CY){return CY.text}).join(""):null}
u=u.endscreenElementRenderer;if(!u)return null;var X=u.style,S=u.endpoint||{},C=null,f=null,Q=!1,N=null,Z=null,T=null,r=null,K=!1,L=null,R=null,c=null,x=null,W=null,E=null;if(X==="VIDEO")g.z(S,g.Rc)?C=g.z(S,g.Rc).url:(E=g.z(S,g.pk),C=k(E)),f=!1,N=Y,u.thumbnailOverlays?(Q=u.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,Z=m(Q.text),Q=Q.style==="LIVE"):Z=m(u.videoDuration);else if(X==="PLAYLIST")g.z(S,g.Rc)?C=g.z(S,g.Rc).url:(E=g.z(S,g.pk),C=k(E)),f=!1,N=Y,T=m(u.playlistLength);else if(X===
"CHANNEL"){if(K=Df(S,"browseEndpoint","browseId"))r=K,C="/channel/"+r;f=!1;N="new";(K=!!u.isSubscribe)?L=U(u):R=m(u.subscribersText)}else X==="WEBSITE"?((c=Df(S,"urlEndpoint","url"))&&(C=c),f=!0,N="new",c=u.icon.thumbnails[0].url):X==="CREATOR_MERCHANDISE"&&(u.productPrice&&(x=m(u.productPrice)),u.additionalFeesText&&(W=m(u.additionalFeesText)),(f=Df(S,"urlEndpoint","url"))&&(C=f),f=!0,N="new");Y=Df(u,"title","accessibility","accessibilityData","label");var J=u.endpoint?u.endpoint.clickTrackingParams:
null,O="";if(u.metadata){var Xd=m(u.metadata);Xd&&(O=Xd)}return{id:"element-"+n,type:X,title:m(u.title),metadata:O,callToAction:m(u.callToAction),FK:u.image,iconUrl:c,left:Number(u.left),width:Number(u.width),top:Number(u.top),aspectRatio:Number(u.aspectRatio),startMs:Math.floor(Number(u.startMs)),endMs:Math.floor(Number(u.endMs)),videoDuration:Z,e$:Q,playlistLength:T,channelId:r,subscribeButton:L,subscribersText:R,isSubscribe:K,targetUrl:C||null,ra:f,sessionData:J?{itct:J}:null,HkV:N,zW:Y?Y:null,
isPlaceholder:u.isPlaceholder,impressionUrls:bX(u.impressionUrls||[],et),s9:bX(u.hovercardShowUrls||[],et),clickUrls:bX(S.loggingUrls||[],et),visualElement:g.Tn(u.trackingParams),productPrice:x,additionalFeesText:W,watchEndpoint:E||null}},cuQ=function(Y,u){var n={startMs:Math.floor(Number(Y.startMs)),
impressionUrls:bX(Y.impressionUrls||[],et),elements:bX(Y.elements||[],function(U,k){return odu(u,U,k)})};
Y.trackingParams&&(n.visualElement=g.Tn(Y.trackingParams));return n},vd$=function(Y){g.vH.call(this,Y);
this.G=this.endscreen=null;this.j={};this.W={};this.J=this.X=null;this.Z=[];this.K=null;this.KG=!0;this.S=0;Y=Y.Y();this.N=g.SG(Y)||g.fV(Y);this.events=new g.j3(this);g.b(this,this.events);this.events.B(this.player,g.yk("creatorendscreen"),this.onCueRangeEnter);this.events.B(this.player,g.Vk("creatorendscreen"),this.onCueRangeExit);this.events.B(this.player,"resize",this.pT);this.events.B(window,"focus",this.Hsk);this.load();var u=g.rh("STYLE");(g.P_("HEAD")[0]||document.body).appendChild(u);this.addOnDisposeCallback(function(){g.A5(u)});
u.sheet&&(u.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),u.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},RKq=function(Y){return Y.player.getVideoData().sD?"current":Y.N?"new":"current"},Ii=function(Y){return Y.player.Y().playerStyle==="creator-endscreen-editor"},De$=function(Y){var u=Y.player.getVideoData(),n=u.videoId;
Y.G&&Y.G.abort();n={method:"POST",onFinish:function(k){var m=Y.G=null;k.status===200&&(k=k.responseText,k.substring(0,3)===")]}"&&(k=k.substring(3),m=JSON.parse(k),m=cuQ(m,RKq(Y))));zk(Y,m)},
urlParams:{v:n},withCredentials:!0};Y.N&&(n.urlParams.ptype="embedded");var U=u.rY;U&&(n.postParams={ad_tracking:U});if(u=g.EBt(u))if(u=g.SO(u),u=g.mG(u))Y.G=g.Ak(u,n)},zk=function(Y,u,n){n=n===void 0?!0:n;
Y.player.JS("creatorendscreen");Y.X&&(Y.X.dispose(),Y.X=null,Y.J.dispose(),Y.J=null);for(var U=g.A(Object.values(Y.j)),k=U.next();!k.done;k=U.next())k.value.dispose();Y.j={};Y.W={};Y.Z.length>0&&(Y.Z.forEach(function(S){S.dispose()}),Y.Z.length=0);
Y.K&&(g.mU(Y.K,"ytp-ce-element-show"),Y.K.setAttribute("aria-hidden","true"));Y.S=0;if((Y.endscreen=u)&&u.elements){n&&xe$(Y);n=[];U=new g.EE(u.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});n.push(U);Y.player.Y().j||(Y.X=new g.H({D:"div",C:"ytp-ce-shadow"}),g.uc(Y.player,Y.X.element,4),Y.J=new g.Je(Y.X,200));for(U=0;U<u.elements.length;++U){k=u.elements[U];var m=lTC(Y,k);if(m){Y.j[k.id]=m;Y.W[k.id]=k;g.uc(Y.player,m.element,4);var X=new g.EE(k.startMs,k.endMs,{id:"ytp-ce-element-"+
k.id,namespace:"creatorendscreen"});n.push(X);hK$(Y,m,k)}else g.Br(new g.zP("buildEndscreenElement null",k))}Y.player.l6(n);Y.pT()}},xe$=function(Y){var u=g.Mn(),n=g.sC();
n&&u&&Y.endscreen.visualElement&&g.O_(g.b2)(void 0,n,u,Y.endscreen.visualElement)},lTC=function(Y,u){var n=null;
switch(u.type){case "VIDEO":Y={D:"div",Oc:["ytp-ce-element","ytp-ce-video"],T:{tabindex:"0","aria-label":u.zW||"","aria-hidden":"true"},U:[{D:"div",C:"ytp-ce-element-shadow"},{D:"div",C:"ytp-ce-covering-image",T:gt(u)},{D:"div",C:"ytp-ce-covering-shadow-top"},{D:"a",C:"ytp-ce-covering-overlay",T:{href:E4(Y,u.targetUrl),tabindex:"-1"},U:[{D:"div",Oc:["ytp-ce-video-title","ytp-webkit-ellipsis"],T:{dir:g.i9(u.title||"")},RV:u.title},{D:"div",C:u.e$?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
RV:u.videoDuration||void 0}]}]};n=new g.H(Y);break;case "PLAYLIST":Y={D:"div",Oc:["ytp-ce-element","ytp-ce-playlist"],T:{tabindex:"0","aria-label":u.zW||"","aria-hidden":"true"},U:[{D:"div",C:"ytp-ce-element-shadow"},{D:"div",C:"ytp-ce-covering-image",T:gt(u)},{D:"div",C:"ytp-ce-covering-shadow-top"},{D:"a",C:"ytp-ce-covering-overlay",T:{href:E4(Y,u.targetUrl),tabindex:"-1"},U:[{D:"div",Oc:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],T:{dir:g.i9(u.title||"")},RV:u.title},{D:"div",C:"ytp-ce-playlist-count",
U:[{D:"div",C:"ytp-ce-playlist-icon"},{D:"div",C:"ytp-ce-playlist-count-text",RV:u.playlistLength||void 0}]}]}]};n=new g.H(Y);break;case "CHANNEL":n={D:"div",Oc:["ytp-ce-element","ytp-ce-channel",u.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],T:{tabindex:"0","aria-label":u.zW||"","aria-hidden":"true"},U:[{D:"div",C:"ytp-ce-element-shadow"},{D:"div",C:"ytp-ce-expanding-overlay",U:[{D:"div",C:"ytp-ce-expanding-overlay-hider"},{D:"div",C:"ytp-ce-expanding-overlay-background"},{D:"div",C:"ytp-ce-expanding-overlay-content",
U:[{D:"div",C:"ytp-ce-expanding-overlay-body",U:[{D:"div",C:"ytp-ce-expanding-overlay-body-padding",U:[{D:"a",Oc:["ytp-ce-channel-title","ytp-ce-link"],T:{href:E4(Y,u.targetUrl),target:"_blank",tabindex:"-1",dir:g.i9(u.title||"")},RV:u.title},u.subscribeButton?{D:"div",C:"ytp-ce-subscribe-container",U:[{D:"div",C:"ytp-ce-channel-subscribe"}]}:"",u.subscribersText?{D:"div",C:"ytp-ce-channel-subscribers-text",RV:u.subscribersText}:"",u.metadata?{D:"div",Oc:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],RV:u.metadata}:""]}]}]}]},{D:"div",C:"ytp-ce-expanding-image",T:gt(u)}]};n=new g.H(n);var U=g.Ci(document,"div","ytp-ce-channel-subscribe",n.element)[0];if(u.subscribeButton&&u.channelId){g.UN(U,"ytp-ce-subscribe-button");if(Y.player.Y().j){var k=null;var m=u.sessionData.itct}else k="endscreen",m=null;k=new g.CW(u.subscribeButton.subscribeText,u.subscribeButton.subscribeCount,u.subscribeButton.unsubscribeText,u.subscribeButton.unsubscribeCount,!!u.subscribeButton.enabled,!!u.subscribeButton.classic,
u.channelId,!!u.subscribeButton.subscribed,k,m,Y.player,!1);U.appendChild(k.element);Y.Z.push(k)}break;case "WEBSITE":Y={D:"div",Oc:["ytp-ce-element","ytp-ce-website"],T:{tabindex:"0","aria-label":u.zW||"","aria-hidden":"true"},U:[{D:"div",C:"ytp-ce-element-shadow"},{D:"div",C:"ytp-ce-expanding-overlay",U:[{D:"div",C:"ytp-ce-expanding-overlay-hider"},{D:"div",C:"ytp-ce-expanding-overlay-background"},{D:"div",C:"ytp-ce-expanding-overlay-content",U:[{D:"div",C:"ytp-ce-expanding-overlay-body",U:[{D:"div",
C:"ytp-ce-expanding-overlay-body-padding",U:[{D:"div",C:"ytp-ce-website-title",T:{dir:g.i9(u.title||"")},RV:u.title},{D:"div",C:"ytp-ce-website-metadata",RV:u.metadata},{D:"a",Oc:["ytp-ce-website-goto","ytp-ce-link"],T:{href:E4(Y,u.targetUrl),target:"_blank",tabindex:"-1"},RV:u.callToAction}]}]}]}]},{D:"div",C:"ytp-ce-expanding-image",T:gt(u)},{D:"div",C:"ytp-ce-expanding-icon",T:w7$(u.iconUrl)}]};n=new g.H(Y);break;case "CREATOR_MERCHANDISE":n="",u.productPrice&&(n={D:"div",C:"ytp-ce-merchandise-price-container",
U:[{D:"div",C:"ytp-ce-merchandise-price",RV:u.productPrice}]},u.additionalFeesText&&n.U.push({D:"div",C:"ytp-ce-merchandise-additional-fees",RV:u.additionalFeesText})),Y={D:"div",Oc:["ytp-ce-element","ytp-ce-merchandise"],T:{tabindex:"0","aria-label":u.zW||"","aria-hidden":"true"},U:[{D:"div",C:"ytp-ce-element-shadow"},{D:"div",C:"ytp-ce-expanding-overlay",U:[{D:"div",C:"ytp-ce-expanding-overlay-hider"},{D:"div",C:"ytp-ce-expanding-overlay-background"},{D:"div",C:"ytp-ce-expanding-overlay-content",
U:[{D:"div",C:"ytp-ce-expanding-overlay-body",U:[{D:"div",C:"ytp-ce-expanding-overlay-body-padding",U:[{D:"div",C:"ytp-ce-merchandise-title",T:{dir:g.i9(u.title||"")},RV:u.title},n,{D:"div",C:"ytp-ce-merchandise-metadata",RV:u.metadata},{D:"a",Oc:["ytp-ce-merchandise-goto","ytp-ce-link"],T:{href:E4(Y,u.targetUrl),target:"_blank",tabindex:"-1"},RV:u.callToAction}]}]}]}]},{D:"div",C:"ytp-ce-expanding-image",T:gt(u)},{D:"div",C:"ytp-ce-merchandise-invideo-cta-container",U:[{D:"div",C:"ytp-ce-merchandise-invideo-cta",
RV:u.callToAction||void 0}]}]},n=new g.H(Y)}u.isPlaceholder&&g.UN(n.element,"ytp-ce-placeholder");return n},gt=function(Y){if(Y.FK)var u=Y.FK.thumbnails;
return w7$(u?u[u.length-1].url:null)},w7$=function(Y){return Y?{style:"background-image: url("+Y+")"}:{}},hK$=function(Y,u,n){function U(C){C&&(u.listen("blur",function(){C.style.display!="none"&&Y.KG&&C.focus()}),u.B(C,"focus",m),u.B(C,"blur",X))}
function k(C){Y.S+=C;Y.S>0?(g.UN(u.element,"ytp-ce-force-expand"),Hb(Y,n.id,!0)):(g.mU(u.element,"ytp-ce-force-expand"),g.mU(u.element,"ytp-ce-element-hover"),Hb(Y,n.id,!1))}
function m(){k(1)}
function X(){k(-1)}
u.listen("mouseenter",function(){WXG(Y,u,n)});
u.listen("mouseleave",function(){eKX(Y,u,n)});
Y.player.Y().j||u.listen("click",function(){g.UN(u.element,"ytp-ce-element-hover")});
u.listen("click",function(C){bn$(Y,n,C)});
u.listen("keypress",function(C){bn$(Y,n,C)});
u.listen("focus",function(){WXG(Y,u,n)});
u.listen("blur",function(){eKX(Y,u,n)});
u.listen("touchstart",function(){WXG(Y,u,n)});
var S=g.fi("ytp-ce-expanding-overlay-hider",u.element);S&&u.B(S,"touchstart",function(C){C.stopPropagation();g.mU(u.element,"ytp-ce-element-hover");g.mU(u.element,"ytp-ce-force-expand")});
u.listen("keydown",function(C){Y.KG=C.keyCode===9&&!C.shiftKey});
U(g.fi("ytp-sb-subscribe",u.element));U(g.fi("ytp-sb-unsubscribe",u.element));u.listen("focus",m);u.listen("blur",X)},bn$=function(Y,u,n){if(u.targetUrl&&(!n||n.type!=="keypress"||n.keyCode===13)){for(var U=n.target;U&&!g.nE(U,"ytp-ce-element");){g.nE(U,"subscribe-label")&&ITR(Y,u);
if(g.nE(U,"ytp-ce-channel-subscribe"))return;U=U.parentElement||null}if(!U||g.nE(U,"ytp-ce-element-hover")){n.preventDefault();n.stopPropagation();if(U=Y.j[u.id])eKX(Y,U,u),U.element.blur();if(n.ctrlKey||n.metaKey||u.HkV==="new")ITR(Y,u),Y.player.sendVideoStatsEngageEvent(17,void 0),Y.player.pauseVideo(),n=g.SO(E4(Y,u.targetUrl)),n=g.mG(n),g.eZ(n,void 0,u.sessionData);else{var k=g.KV(Y.player.Y())||Y.player.getVideoData().sD,m=function(){var X=E4(Y,u.targetUrl),S=u.sessionData,C=u.watchEndpoint,f=
g.Yo(X);k&&f&&(f.v||f.list)?Y.player.EK(f.v,S,f.list,!1,void 0,C||void 0):g.WY(X,S)};
ITR(Y,u,function(){Y.player.sendVideoStatsEngageEvent(17,m)})}}}},E4=function(Y,u){Y=Y.player.Y();
if(u){if(u.startsWith("//"))return Y.protocol+":"+u;if(u.startsWith("/"))return g.RT(Y)+u}else return"";return u},WXG=function(Y,u,n){g.nE(u.element,"ytp-ce-element-hover")||(n.type==="VIDEO"||n.type==="PLAYLIST"?g.UN(u.element,"ytp-ce-element-hover"):Y.player.Y().j?(new g.Vp(function(){g.UN(u.element,"ytp-ce-element-hover")},200)).start():g.UN(u.element,"ytp-ce-element-hover"),y2(Y,n.s9),Hb(Y,n.id,!0))},eKX=function(Y,u,n){g.mU(u.element,"ytp-ce-element-hover");
g.mU(u.element,"ytp-ce-force-expand");Hb(Y,n.id,!1)},Hb=function(Y,u,n){Y.X&&(n?Y.J.show():Y.J.hide());
for(var U=g.A(Object.keys(Y.j)),k=U.next();!k.done;k=U.next())k=k.value,k!==u&&g.PP(Y.j[k].element,"ytp-ce-element-shadow-show",n)},y2=function(Y,u,n){function U(){m||(k++,k===u.length&&(X.stop(),n&&n()))}
if(!u||u.length===0||Ii(Y))n&&n();else{u=zK$(Y,u);var k=0,m=!1,X=new g.Vp(function(){m=!0;n&&n()},1E3,Y);
X.start();for(Y=0;Y<u.length;Y++)g.DX(u[Y],U)}},ITR=function(Y,u,n){y2(Y,u.clickUrls,n);
(Y=g.sC())&&u.ra&&g.qn(Y,u.visualElement)},zK$=function(Y,u){var n=Y.player.getVideoData().clientPlaybackNonce;
Y=Y.player.getCurrentTime().toFixed(2);n={CPN:n,AD_CPN:n,MT:Y};Y=[];for(var U=0;U<u.length;U++)Y.push(gdR(u[U],n));return Y},gdR=function(Y,u){return Y.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(n){var U=unescape(n);
U=U.substring(1,U.length-1);return u[U]?escape(u[U]):n})},Edy=function(Y){return typeof Y==="string"?Y:""},V2=function(Y,u,n){for(var U in u)if(u[U]===Y)return Y;
return n},Hn$=function(Y,u,n,U){this.value=Y;
this.target=u;this.showLinkIcon=n;this.K=U},O4=function(Y){return Y.value?Y.value:null},F6=function(Y){if(!Y)return null;
var u=g.SO(Edy(Y.value));u=g.mG(u);if(!u)return null;var n=V2(Y.target,yuy,"current");if(n==null)Y=null;else{var U=Y.show_link_icon;Y=new Hn$(u,n,U==="true"||U==="false"?U==="true":!0,Y.pause_on_navigation!=null?Y.pause_on_navigation:!0)}return Y},V_$=function(Y,u,n){this.type=Y;
this.trigger=u;this.url=n},JuQ=function(Y){if(!Y)return null;
var u=V2(Y.type,OnR),n=V2(Y.trigger,FX$);Y=Y.url;Y=Array.isArray(Y)&&Y.length?Y[0]:Y;Y=F6(Y?Y:null);return u?new V_$(u,n,Y):null},qaB=function(Y,u,n,U,k){this.id=Y;
this.type=u;this.style=n;this.data=k;this.action=U||[]},aT$=function(Y,u){return g.G$(Y.action,u)},$eB=function(Y,u){this.context=Y;
this.K=u},Yx$=function(Y){return Y.customMessage?J4("div","iv-card-message",Y.customMessage):""},qU=function(Y,u){Y="background-image: url("+Y+");";
var n=[];u&&n.push(u);return{D:"div",C:"iv-card-image",T:{style:Y},U:n}},uby=function(Y){if(!Y.metaInfo||Y.metaInfo.length===0)return"";
var u=[];Y=g.A(Y.metaInfo);for(var n=Y.next();!n.done;n=Y.next())u.push(J4("li","",n.value));return{D:"ul",C:"iv-card-meta-info",U:u}},J4=function(Y,u,n){u?typeof u==="string"?u={"class":u}:Array.isArray(u)&&(u={"class":u.join(" ")}):u={};
u.dir=g.i9(n);return{D:Y,T:u,RV:n}},nlJ=function(Y){if(!Y.customMessage)return"";
var u=["iv-card-action","iv-card-primary-link"],n={};Y.Il&&(u.push("iv-card-action-icon"),n.style="background-image: url("+Y.Il+");");n.dir=g.i9(Y.customMessage);var U=[{D:"span",RV:Y.customMessage}];Y.showLinkIcon&&(U.push("\u00a0"),U.push({D:"span",C:"iv-card-link-icon"}));return{D:"div",Oc:u,T:n,U:U}},ai=function(Y,u,n,U){if(U){u=g.A(u);
for(var k=u.next();!k.done;k=u.next())Y.K(k.value,U,n.id,n.sessionData,n.UP.click,5)}},U_Q=function(Y,u){this.merchant=Y;
this.price=u},kT$=function(Y){var u;
(u=Y)&&!(u=Y.length>1?Y.charAt(0)==="/"&&Y.charAt(1)!=="/":Y==="/")&&(u=Y.replace(/^(https?:)?\/\//,"").split("/",1),u=!u||u.length<1||!u[0]?[]:u[0].toLowerCase().split(".").reverse(),u=u[0]==="com"&&u[1]==="youtube"||u[0]==="be"&&u[1]==="youtu");return u?Y.indexOf("/redirect?")===-1:!1},m_y=function(Y,u){return u?u:kT$(Y)?"current":"new"},$D=function(Y,u){g.e.call(this);
var n=this;this.element=Y;this.context=u;this.Uc=!1;this.zZ=new Map;this.TZ=new Map;this.context.L.addEventListener(g.yk("annotations_module"),function(U){(U=n.zZ.get(U))&&U.apply(n)});
this.context.L.addEventListener(g.Vk("annotations_module"),function(U){(U=n.TZ.get(U))&&U.apply(n)})},YO=function(Y,u,n,U,k,m,X){Y.context.K.listen(u,"click",function(S){Y.EL(n,U,k,m||[],X||0,S)});
Y.context.K.listen(u,"touchstart",function(){Y.Uc=!1});
Y.context.K.listen(u,"touchmove",function(){Y.Uc=!0})},XZQ=function(Y){var u;
return((u=g.z(Y,g.Rc))==null?0:u.url)?g.z(Y,g.Rc).url:(Y=g.z(Y,g.pk))&&Y.videoId?(u="/watch?v="+Y.videoId,Y.playlistId&&(u+="&list="+Y.playlistId),Y.index&&(u+="&index="+Y.index),Y.startTimeSeconds&&(u+="&t="+Y.startTimeSeconds),u):null},uV=function(Y,u,n){return{df:(Y.impressionLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""}),
click:(n.loggingUrls||[]).map(function(U){return U.baseUrl||""}),
close:(u.dismissLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""}),
cT:(u.impressionLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""}),
Xd:(u.clickLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""})}},PuL=function(Y,u,n){$D.call(this,u,n);
var U=this;this.L=Y;this.eventId=null;this.nT=this.Fk=this.Gw=this.X=this.isInitialized=!1;this.cards=[];this.Iu=this.J=this.MF=this.W=this.CG=this.K=null;this.KG=[];this.oV=this.Z=this.wL=this.rg=null;this.S=0;this.DW=new g.Vp(function(){},n.xw.wO?4E3:3E3);
g.b(this,this.DW);this.Pz=new g.Vp(function(){});
g.b(this,this.Pz);this.jG=new $eB(n,function(k,m,X,S,C,f){YO(U,k,m,X,S,C,f)});
this.N=new g.H({D:"div",C:"iv-drawer",T:{id:"iv-drawer"},U:[{D:"div",C:"iv-drawer-header",T:{"aria-role":"heading"},U:[{D:"span",C:"iv-drawer-header-text"},{D:"button",Oc:["iv-drawer-close-button","ytp-button"],T:{"aria-label":"Hide cards",tabindex:"0"}}]},{D:"div",C:"iv-drawer-content"}]});g.b(this,this.N);this.G=this.N.element;this.dg=new g.Je(this.N,330);g.b(this,this.dg);this.Ru=g.fi("iv-drawer-header-text",this.G);this.j=g.fi("iv-drawer-content",this.G);this.addCueRange(0,n.videoData.lengthSeconds*
1E3,"",function(){U.Gw&&nZ(U,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(U.Gw=U.X)&&U3(U)});
this.JJ=new g.j3(this);g.b(this,this.JJ);this.L.addEventListener("videodatachange",this.qS.bind(this))},SxX=function(Y,u){u=u.data;
u.autoOpenMs&&Y.addCueRange(u.autoOpenMs,0x8000000000000,"",function(){nZ(Y,"YOUTUBE_DRAWER_AUTO_OPEN")});
u.autoCloseMs&&Y.addCueRange(u.autoCloseMs,0x8000000000000,"",function(){U3(Y)});
var n=u.headerText;g.Ki(Y.Ru,n);Y.J&&(Y.L.V("player_tooltip_data_title_killswitch")?Y.J.setAttribute("title",n):Y.J.setAttribute("data-tooltip-title",n));u.eventId&&(Y.eventId=u.eventId);Y.rg=g.Tn(u.trackingParams);Y.Z=g.Tn(u.closeTrackingParams);Y.wL=g.Tn(u.iconTrackingParams)},Cuq=function(Y,u){var n=u.cardId?u.cardId:"cr:"+Y.S,U=Y.L.Y().experiments.vz("enable_error_corrections_infocard_web_client");
if(!u.content&&u.teaser.simpleCardTeaserRenderer&&U){var k=u.teaser.simpleCardTeaserRenderer,m=u.icon?u.icon.infoCardIconRenderer:null;if(k.channelAvatar&&k.channelAvatar.thumbnails&&k.channelAvatar.thumbnails.length>0)var X=kO(k.channelAvatar.thumbnails,22,22).url;u={id:n,timestamp:Y.S,type:"simple",teaserText:g.Cw(k.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:{},sponsored:!1,UP:{},r_:null,Bd:k.trackingParams?
g.Tn(k.trackingParams):null,wL:m&&m.trackingParams?g.Tn(m.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,Il:null,title:"",customMessage:"",url:null,onClickCommand:k.onTapCommand||null,bC:X};me(Y,u)}else{var S;if((S=u.content)==null?0:S.simpleCardContentRenderer){if(!u.cueRanges.length)return;X=(k=u.content)==null?void 0:k.simpleCardContentRenderer;k=u.teaser.simpleCardTeaserRenderer;m=u.icon?u.icon.infoCardIconRenderer:null;u={id:n,timestamp:Y.S,type:"simple",teaserText:g.Cw(k.message),
teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:XF(Y,n,u,X),sponsored:!1,UP:uV(X,k,X.command),r_:X.trackingParams?g.Tn(X.trackingParams):null,Bd:k.trackingParams?g.Tn(k.trackingParams):null,wL:m&&m.trackingParams?g.Tn(m.trackingParams):null,imageUrl:kO(X.image.thumbnails,290,290).url,displayDomain:X.displayDomain?g.Cw(X.displayDomain):null,showLinkIcon:!!X.showLinkIcon,Il:null,title:X.title?g.Cw(X.title):"",
customMessage:X.callToAction?g.Cw(X.callToAction):"",url:g.z(X.command,g.Rc).url?F6({pause_on_navigation:!Y.context.videoData.isLivePlayback,target:"new",value:g.z(X.command,g.Rc).url}):null,onClickCommand:null};me(Y,u)}else{var C;if((C=u.content)==null?0:C.collaboratorInfoCardContentRenderer){if(!u.cueRanges.length)return;X=(m=u.content)==null?void 0:m.collaboratorInfoCardContentRenderer;k=u.teaser.simpleCardTeaserRenderer;m=u.icon?u.icon.infoCardIconRenderer:null;u={id:n,timestamp:Y.S,type:"collaborator",
teaserText:g.Cw(k.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:XF(Y,n,u,X),sponsored:!1,UP:uV(X,k,X.endpoint),r_:X.trackingParams?g.Tn(X.trackingParams):null,Bd:k.trackingParams?g.Tn(k.trackingParams):null,wL:m&&m.trackingParams?g.Tn(m.trackingParams):null,channelId:g.z(X.endpoint,g.qW).browseId,customMessage:X.customText?g.Cw(X.customText):null,profileImageUrl:kO(X.channelAvatar.thumbnails,290,
290).url,title:X.channelName?g.Cw(X.channelName):"",metaInfo:[X.subscriberCountText?g.Cw(X.subscriberCountText):""],url:F6({pause_on_navigation:!Y.context.videoData.isLivePlayback,target:"new",value:g.z(X.endpoint,g.qW).canonicalBaseUrl?g.z(X.endpoint,g.qW).canonicalBaseUrl:"/channel/"+g.z(X.endpoint,g.qW).browseId}),onClickCommand:null};me(Y,u)}else{var f;if((f=u.content)==null?0:f.playlistInfoCardContentRenderer){if(!u.cueRanges.length)return;var Q;X=(Q=u.content)==null?void 0:Q.playlistInfoCardContentRenderer;
k=u.teaser.simpleCardTeaserRenderer;m=u.icon?u.icon.infoCardIconRenderer:null;u={id:n,timestamp:Y.S,type:"playlist",teaserText:g.Cw(k.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:XF(Y,n,u,X),sponsored:!1,UP:uV(X,k,X.action),r_:X.trackingParams?g.Tn(X.trackingParams):null,Bd:k.trackingParams?g.Tn(k.trackingParams):null,wL:m&&m.trackingParams?g.Tn(m.trackingParams):null,XU:kO(X.playlistThumbnail.thumbnails,
258,290).url,customMessage:X.customMessage?g.Cw(X.customMessage):null,playlistVideoCount:g.Cw(X.playlistVideoCount),title:X.playlistTitle?g.Cw(X.playlistTitle):"",metaInfo:[X.channelName?g.Cw(X.channelName):"",X.videoCountText?g.Cw(X.videoCountText):""],url:F6({pause_on_navigation:!Y.context.videoData.isLivePlayback,target:"new",value:XZQ(X.action)}),onClickCommand:null};me(Y,u)}else{var N;if((N=u.content)==null?0:N.videoInfoCardContentRenderer){if(!u.cueRanges.length)return;var Z;X=(Z=u.content)==
null?void 0:Z.videoInfoCardContentRenderer;k=u.teaser.simpleCardTeaserRenderer;m=u.icon?u.icon.infoCardIconRenderer:null;u={id:n,timestamp:Y.S,type:"video",teaserText:g.Cw(k.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:XF(Y,n,u,X),sponsored:!1,UP:uV(X,k,X.action),r_:X.trackingParams?g.Tn(X.trackingParams):null,Bd:k.trackingParams?g.Tn(k.trackingParams):null,wL:m&&m.trackingParams?g.Tn(m.trackingParams):
null,XU:kO(X.videoThumbnail.thumbnails,258,290).url,videoDuration:X.lengthString?g.Cw(X.lengthString):null,customMessage:X.customMessage?g.Cw(X.customMessage):null,title:X.videoTitle?g.Cw(X.videoTitle):"",metaInfo:[X.channelName?g.Cw(X.channelName):"",X.viewCountText?g.Cw(X.viewCountText):""],isLiveNow:!!X.badge,url:F6({pause_on_navigation:!Y.context.videoData.isLivePlayback,target:"new",value:XZQ(X.action)}),onClickCommand:null};me(Y,u)}}}}}Y.S++},kO=function(Y,u,n){for(var U=-1,k=-1,m=0;m<Y.length;m++){if(Y[m].height===
u||Y[m].width===n)return Y[m];
((Y[m].height||0)<u||(Y[m].width||0)<n)&&(U<0||(Y[U].height||0)<(Y[m].height||0)||(Y[U].width||0)<(Y[m].width||0))?U=m:((Y[m].height||0)>=u||(Y[m].width||0)>=n)&&(k<0||(Y[k].height||0)>(Y[m].height||0)||(Y[k].width||0)>(Y[m].width||0))&&(k=m)}return Y[k>=0?k:U]},XF=function(Y,u,n,U){return{feature:n.feature?n.feature:"cards",
src_vid:Y.context.videoData.videoId,annotation_id:u,ei:Y.context.videoData.eventId||"",itct:U.trackingParams||""}},QxX=function(Y,u){if(u=fEg(Y,u))u===Y.K&&(Y.K=null),Y.L.removeCueRange(u.Cp.id),g.A5(u.NJ),g.pR(Y.cards,u),Y.B5(),PM(Y)},nZ=function(Y,u,n){if(!Y.X){Y.dg.show();
Y.CG=new g.Vp(function(){g.UN(Y.context.L.getRootNode(),g.pq.IV_DRAWER_OPEN)},0);
Y.CG.start();Y.JJ.B(Y.j,"mousewheel",function(X){Y.DW.start();X.preventDefault();X=X||window.event;var S=0;X.type=="MozMousePixelScroll"?S=0==(X.axis==X.HORIZONTAL_AXIS)?X.detail:0:window.opera?S=X.detail:S=X.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?X.wheelDeltaY/-30:X.wheelDeltaY/-1.2:X.wheelDelta/-1.6:X.wheelDeltaY/-3;if(X=S)Y.j.scrollTop+=X});
Y.X=!0;var U=g.sC();U&&Y.rg&&Y.Z&&g.Fo(U,[Y.rg,Y.Z]);u={TRIGGER_TYPE:u};for(var k=g.A(Y.cards),m=k.next();!m.done;m=k.next())m=m.value,m.CH||(m.CH=!0,NyJ(Y.context.logger,m.Cp.UP.df,u)),U&&g.Fo(U,[m.Cp.r_]);Ri(Y.L);n&&(Y.W=new g.Vp(function(){Y.MF=Y.J;Y.Iu.focus()},330),Y.W.start())}},U3=function(Y){Y.X&&(Y.dg.hide(),g.Lb(Y.JJ),g.mU(Y.context.L.getRootNode(),g.pq.IV_DRAWER_OPEN),Y.X=!1,Ri(Y.L),Y.W&&Y.W.stop(),Y.W=new g.Vp(function(){Y.MF&&(Y.MF.focus(),Y.MF=null)},330),Y.W.start())},irB=function(Y){g.kv(Y.q1(),
[g.pq.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.uc(Y.L,Y.G,5);Y.yp();Y.J=g.fi("ytp-cards-button",Y.L.getRootNode());Y.Iu=g.fi("iv-drawer-close-button",Y.G);Y.isInitialized=!0},Zrg=function(Y){Y.KG.push(g.q3("iv-teaser-shown",Y.Zg,Y));
Y.KG.push(g.q3("iv-teaser-hidden",Y.Pi,Y));Y.KG.push(g.q3("iv-teaser-clicked",Y.Qk,Y));Y.nT=!0},Tyq=function(Y,u){var n;
return u.onClickCommand&&((n=g.z(u.onClickCommand,g.Ery))==null?void 0:n.targetId)==="engagement-panel-error-corrections"?(Y.oV=u,!0):!1},rPG=function(Y,u){Y.oV=u;
var n=Y.L.getVideoData();if(!n)return!1;n=g.uR(n);if(n==null?0:n.markersMap)for(var U,k=0;((U=n)==null?void 0:U.markersMap.length)>k;k++){var m=void 0,X=(m=n)==null?void 0:m.markersMap[k];if(X.key==="ERROR_CORRECTION_MARKERS"&&(m=void 0,(X=(m=X.value)==null?void 0:m.markers)&&X.length>0))return U=void 0,u.startMs=((U=g.z(X[0],g.NIA))==null?void 0:U.timeRangeStartMillis)||0,Y.oV=null,!0}return!1},me=function(Y,u){if(!Tyq(Y,u)||rPG(Y,u)){var n=M4g(Y,u);
if(n){var U={Cp:u,NJ:n.element,CH:!1};if(u.onClickCommand)Y.L.V("web_infocards_teaser_show_logging_fix")&&(Y.nT||Zrg(Y),QxX(Y,u.id),n=Y.findLastIndex(U),g.bQ(Y.cards,n,0,U));else{Y.isInitialized||irB(Y);QxX(Y,u.id);var k=Y.findLastIndex(U);g.bQ(Y.cards,k,0,U);n.yF(Y.j,k);Y.B5()}u.autoOpen?Y.addCueRange(u.startMs,0x8000000000000,u.id,function(){Y.X||(Y.K=U,PM(Y),sx$(Y,U),nZ(Y,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(n=Y.context.L.getCurrentTime()*1E3,n<5E3&&n>u.startMs&&d_X(Y,U),Y.addCueRange(u.startMs,
u.startMs+1,u.id,function(){d_X(Y,U)}),PM(Y))}}},M4g=function(Y,u){switch(u.type){case "simple":Y=Y.jG;
var n=u.displayDomain?{D:"div",C:"iv-card-image-text",RV:u.displayDomain}:void 0;var U=nlJ(u);n={D:"div",Oc:["iv-card"],U:[{D:"a",C:"iv-click-target",T:{href:u.url?O4(u.url)||"":""},U:[qU(u.imageUrl,n),{D:"div",C:"iv-card-content",U:[J4("h2",void 0,u.title),U]}]}]};n=new g.H(n);ai(Y,g.Sw("iv-click-target",n.element),u,u.url);u=n;break;case "collaborator":Y=Y.jG;n={D:"div",Oc:["iv-card","iv-card-channel"],U:[{D:"a",Oc:["iv-click-target"],T:{href:O4(u.url)||"","data-ytid":u.channelId},U:[qU(u.profileImageUrl),
{D:"div",C:"iv-card-content",U:[Yx$(u),{D:"h2",C:"iv-card-primary-link",RV:u.title},uby(u)]}]}]};n=new g.H(n);ai(Y,g.Sw("iv-click-target",n.element),u,u.url);u=n;break;case "playlist":Y=Y.jG;n={D:"div",Oc:["iv-card","iv-card-playlist"],U:[{D:"a",C:"iv-click-target",T:{href:O4(u.url)||""},U:[qU(u.XU,{D:"div",C:"iv-card-image-overlay",U:[{D:"span",C:"iv-card-playlist-video-count",RV:u.playlistVideoCount}]}),{D:"div",C:"iv-card-content",U:[Yx$(u),J4("h2","iv-card-primary-link",u.title),uby(u)]}]}]};
n=new g.H(n);ai(Y,g.Sw("iv-click-target",n.element),u,u.url);u=n;break;case "productListing":Y=Y.jG;var k=u.offers.length!=0;n=["iv-card"];U="";var m=nlJ(u);k&&(n.push("iv-card-product-listing"),U="iv-card-primary-link",m=u.offers[0],k=[],m.price&&k.push({D:"div",C:"iv-card-offer-price",RV:m.price}),m.merchant&&k.push({D:"div",C:"iv-card-offer-merchant",RV:m.merchant}),m={D:"div",U:k});k=u.url?O4(u.url)||"":"";n={D:"div",Oc:n,T:{tabindex:"0"},U:[{D:"a",Oc:["iv-card-image","iv-click-target"],T:{style:"background-image: url("+
u.imageUrl+");",href:k,"aria-hidden":"true",tabindex:"-1"}},{D:"div",C:"iv-card-content",U:[u.sponsored?{D:"div",C:"iv-card-sponsored",U:["Sponsored",{D:"div",C:"iv-ad-info-container",U:[{D:"div",C:"iv-ad-info",RV:"{{adInfo}}"},{D:"div",C:"iv-ad-info-icon-container",U:[{D:"div",C:"iv-ad-info-icon"},{D:"div",C:"iv-ad-info-callout"}]}]}]}:"",{D:"a",C:"iv-click-target",T:{href:k},U:[J4("h2",U,u.title),m]}]}]};n=new g.H(n);U=g.rh("span");g.Ki(U,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
n.dD(U,"adInfo");ai(Y,g.Sw("iv-click-target",n.element),u,u.url);u=n;break;case "video":Y=Y.jG;U=u.videoDuration?{D:"span",C:"iv-card-video-duration",RV:u.videoDuration}:void 0;m=u.isLiveNow?{D:"span",Oc:["yt-badge","yt-badge-live"],RV:"LIVE NOW"}:null;k={D:"div",Oc:["iv-card","iv-card-video"],U:[{D:"a",C:"iv-click-target",T:{href:((n=u.url)==null?void 0:O4(n))||""},U:[qU(u.XU,U),{D:"div",C:"iv-card-content",U:[Yx$(u),J4("h2","iv-card-primary-link",u.title),uby(u),m]}]}]};n=new g.H(k);ai(Y,g.Sw("iv-click-target",
n.element),u,u.url);u=n;break;default:return null}return u},GTg=function(Y){if(Y.K)return Y.K.Cp.type==="productListing";
if(Y.L.V("enable_wn_infocards")){var u;return!((u=Y.cards)==null||!u.length)&&g.GZ(Y.cards,function(n){return n.Cp.type==="productListing"})}return g.GZ(Y.cards,function(n){return n.Cp.type==="productListing"})},PM=function(Y){g.PP(Y.L.getRootNode(),"ytp-cards-shopping-active",GTg(Y))},d_X=function(Y,u){if(!g.nE(Y.L.getRootNode(),"ytp-cards-teaser-shown")){if(Y.K!==u){var n=g.sC(),U=Y.K?Y.K.Cp.wL:Y.wL;
n&&U&&g.Jl(n,[U]);Y.K=u;PM(Y)}(n=Y.isInitialized&&Y.q1().style.display=="none")||(n=Y.context.L.getPlayerState(),U=n===0&&Y.context.L.getCurrentTime()===0,n=!(n===1||n===3||U));if(!n&&u.Cp.teaserDurationMs){var k;n={teaserText:u.Cp.teaserText,durationMs:u.Cp.teaserDurationMs,onClickCommand:u.Cp.onClickCommand,bC:(k=u.Cp.bC)!=null?k:null};Y.L.o6(!0,n)}Y.Pz.isActive()||((!Y.X||!Y.DW.isActive()&&Y.Fk)&&sx$(Y,u),Y.Pz.start(910+u.Cp.teaserDurationMs))}},sx$=function(Y,u){Y.N.KT?(u=new wt([0,
Y.j.scrollTop],[0,u.NJ.offsetTop],600,t_G),Y.context.X.listen(u,"animate",function(n){Y.j.scrollTop=n.y}),Y.context.X.listen(u,"finish",function(n){Y.j.scrollTop=n.y}),u.play()):(Y.N.v$(!0),Y.j.scrollTop=u.NJ.offsetTop,Y.N.v$(!1))},SD=function(Y){return Y.K&&Y.K.Cp?Y.K.Cp:Y.cards[0]&&Y.cards[0].Cp?Y.cards[0].Cp:null},fEg=function(Y,u){return g.G$(Y.cards,function(n){return n.Cp.id===u})},CZ=function(Y,u,n){$D.call(this,Y,u);
this.annotation=n;this.isActive=!1},AP$=function(Y){var u=Y.annotation.data;
"start_ms"in u&&"end_ms"in u&&Y.addCueRange(Number(u.start_ms),Number(u.end_ms),Y.annotation.id,function(){Y.show()},function(){Y.hide()})},fZ=function(Y,u,n){CZ.call(this,Y,u,n);
this.j=null;this.S=!1;this.X=null;this.G=!1;this.K=this.W=this.J=null},jxg=function(Y,u){var n=n===void 0?0:n;
var U=M_q(u).width;g.au(u,U);n=new p7$(u,[U,u.offsetTop],[U-U-n,u.offsetTop],200,LX$);g.b(Y,n);Y.context.X.listen(n,"begin",function(){g.kS(u,!0)});
n.play()},LOB=function(Y,u){if(u.channel_name){var n=Y.createElement({D:"div",
Oc:["iv-branding-context-name"],RV:u.channel_name}),U=Y.createElement({D:"div",Oc:["iv-branding-context-subscribe"]}),k=u.standalone_subscribe_button_data;k&&(Y.K=new g.CW(k.subscribeText,k.subscribeCount,k.unsubscribeText,k.unsubscribeCount,!!k.enabled,!!k.classic,u.channel_id,!!k.subscribed,k.feature,u.session_data.itct,Y.context.L,!1),Y.K.yF(U));var m=Y.createElement({D:"div",Oc:["iv-branding-context-subscribe-caret"]}),X=Y.createElement({D:"div",Oc:["branding-context-container-inner"]});X.appendChild(m);
X.appendChild(n);X.appendChild(U);g.kS(X,!1);var S=Y.createElement({D:"div",Oc:["branding-context-container-outer"]});S.appendChild(X);g.yV(S,"right",u.image_width+"px");g.sD(Y.q1(),S);Y.X=new g.Vp(function(){KOu(Y,X,S)},500);
g.b(Y,Y.X);Y.context.K.listen(Y.q1(),"mouseover",function(){pZq(Y,X,S,m,u.image_height)});
Y.context.K.listen(Y.q1(),"mouseout",function(){Y.X.start()})}},pZq=function(Y,u,n,U,k){Y.X.stop();
if(!Y.G){var m=g.Ui(u);Y.K||(u.style.width=g.qK(m.width,!0),n.style.width=g.qK(m.width,!0));g.yV(U,"top",m.height-Math.max(Math.min(m.height,k)/2+10,20)+"px");g.yV(U,"right","1px");Y.G=!0;g.kS(u,!0);Y.J=new g.Vp(function(){g.UN(this.q1(),"iv-branding-active")},0,Y);
Y.J.start()}},KOu=function(Y,u,n){g.mU(Y.q1(),"iv-branding-active");
Y.W=new g.Vp(function(){g.kS(u,!1);Y.K||(n.style.width=g.qK(0,!0))},250);
Y.W.start();Y.G=!1},t4X=function(Y,u,n,U,k,m,X){this.K=Y;
this.X=u;this.xw=n;this.videoData=U;this.logger=k;this.L=m;this.j=X},Byy=function(Y,u,n){CZ.call(this,Y,u,n);
var U=this;this.Z=this.isCollapsed=this.N=!1;this.W=5E3;this.j=this.X=this.K=this.G=null;this.S=this.createElement({D:"div",Oc:["iv-promo-contents"]});this.J=new g.Vp(function(){U.K.setAttribute("aria-hidden","true");g.kS(U.X,!1);g.kS(U.j,!0)},700,this);
g.b(this,this.J)},cP$=function(Y){var u=Y.annotation.data;
if(Y.annotation.style==="cta")var n=6;else if(Y.annotation.style==="video"||Y.annotation.style==="playlist")n=7;Y.W=u.collapsedelay_ms||Y.W;var U=["iv-promo","iv-promo-inactive"];Y.q1().setAttribute("aria-hidden","true");Y.q1().setAttribute("aria-label","Promotion");Y.q1().tabIndex=0;var k=Y.annotation.Ff(),m=u.image_url;if(m){var X=Y.createElement({D:"div",Oc:["iv-promo-img","iv-click-target"]});m=Y.createElement({D:"img",T:{src:m,"aria-hidden":"true"}});X.appendChild(m);u.video_duration&&!u.is_live?
(m=Y.createElement({D:"span",C:"iv-promo-video-duration",RV:u.video_duration}),X.appendChild(m)):u.playlist_length&&(m=Y.createElement({D:"span",C:"iv-promo-playlist-length",RV:u.playlist_length.toString()}),X.appendChild(m));k&&YO(Y,X,k,Y.annotation.id,u.session_data,void 0,n)}k?(m=Y.createElement({D:"a",C:"iv-promo-txt"}),g.QO(m,O4(k)),Y.K=m):Y.K=Y.createElement({D:"div",C:"iv-promo-txt"});switch(Y.annotation.style){case "cta":case "website":var S=Y.createElement({D:"p",U:[{D:"strong",RV:u.text_line_1}]});
var C=Y.createElement({D:"p",U:[{D:"span",C:"iv-promo-link",RV:u.text_line_2}]});if(m=u.text_line_3){U.push("iv-promo-website-card-cta-redesign");var f=Y.createElement({D:"button",Oc:["iv-promo-round-expand-icon","ytp-button"]});m=Y.createElement({D:"button",Oc:["iv-button","iv-promo-button"],U:[{D:"span",C:"iv-button-content",RV:m}]});var Q=Y.createElement({D:"div",C:"iv-promo-button-container"});Q.appendChild(m);k&&YO(Y,Y.q1(),k,Y.annotation.id,u.session_data,void 0,n)}g.UN(Y.K,"iv-click-target");
k&&YO(Y,Y.K,k,Y.annotation.id,u.session_data,void 0,n);break;case "playlist":case "video":S=Y.createElement({D:"p",U:[{D:"span",RV:u.text_line_1}]}),C=Y.createElement({D:"p",U:[{D:"strong",RV:u.text_line_2}]}),u.is_live&&(S=C,C=Y.createElement({D:"span",Oc:["yt-badge","iv-promo-badge-live"],RV:"LIVE NOW"})),g.UN(Y.K,"iv-click-target"),k&&YO(Y,Y.K,k,Y.annotation.id,u.session_data,void 0,n),U.push("iv-promo-video")}S&&Y.K.appendChild(S);C&&Y.K.appendChild(C);Y.S.appendChild(Y.K);Q&&Y.S.appendChild(Q);
n=Y.createElement({D:"div",C:"iv-promo-actions"});Y.j=Y.createElement({D:"button",Oc:["iv-promo-expand","ytp-button"]});Y.j.title="Expand";Y.context.K.listen(Y.j,"click",function(N){olq(Y,5E3,N)});
n.appendChild(Y.j);g.kS(Y.j,!1);Y.context.K.listen(Y.q1(),"mouseover",Y.HJ,Y);Y.context.K.listen(Y.q1(),"mouseout",Y.Fj,Y);Y.context.K.listen(Y.q1(),"touchend",function(N){olq(Y,5E3,N)});
Y.X=Y.createElement({D:"button",Oc:["iv-promo-close","ytp-button"]});Y.X.title="Close";Y.context.K.listen(Y.X,"click",Y.annotation.style==="cta"&&u.text_line_3?Y.DL:Y.rk,Y);n.appendChild(Y.X);g.kv(Y.q1(),U);X&&(g.sD(Y.q1(),X),f&&X.appendChild(f));g.sD(Y.q1(),Y.S);g.sD(Y.q1(),n)},olq=function(Y,u,n){n.stopPropagation();
vl$(Y);RQB(Y,u);Y.K.focus()},D_q=function(Y){Y.isCollapsed||Y.Z||Y.G||(g.UN(Y.q1(),"iv-promo-collapsed"),Y.isCollapsed=!0,Y.J.start())},vl$=function(Y){Y.J.stop();
Y.isCollapsed&&(g.XE(Y.q1(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),Y.isCollapsed=!1,Y.K&&Y.K.removeAttribute("aria-hidden"),g.kS(Y.j,!1),g.kS(Y.X,!0))},RQB=function(Y,u){Y.G||(Y.G=g.WB(function(){x_L(this);
D_q(this)},u,Y))},x_L=function(Y){Y.G&&(g.$e.clearTimeout(Y.G),Y.G=null)},lE$=function(Y){this.L=Y},NyJ=function(Y,u,n){u&&(n?Q0(Y,u.map(function(U){return g.oe(U,n)})):Q0(Y,u))},Q0=function(Y,u,n,U){var k=1,m=void 0,X=-1;
if(n){var S=!1;m=function(){k--;k||S||(clearTimeout(X),S=!0,n())};
X=setTimeout(function(){S=!0;n()},1E3)}u=g.A(u||[]);
for(var C=u.next();!C.done;C=u.next())C=C.value,k++,g.DX(C,m);U&&(k++,U!==0&&Y.L.sendVideoStatsEngageEvent(U,m))},hQQ=function(Y){g.vH.call(this,Y);
var u=this;this.KG=this.Z=!1;this.loadNumber=0;this.W={};this.logger=new lE$(this.player);this.G=new g.j3(this);this.J=this.S=null;this.events=new g.j3(this);this.Qj=this.N=this.K=null;this.oV=[];g.b(this,this.G);this.G.B(this.player,"onVideoAreaChange",function(){u.publish("onVideoAreaChange")});
this.G.B(this.player,"onHideControls",function(){u.publish("onHideControls")});
this.G.B(this.player,"onShowControls",function(){u.publish("onShowControls")});
this.G.B(this.player,"resize",function(U){u.publish("resize",U)});
this.G.B(this.player,"presentingplayerstatechange",function(U){u.publish("presentingplayerstatechange",U)});
this.subscribe("presentingplayerstatechange",this.eB,this);this.subscribe("resize",this.e9,this);this.player.Y().Fk.subscribe("vast_info_card_add",this.p5,this);g.b(this,this.events);this.jG=this.createElement({D:"div",C:"video-custom-annotations"});this.j=new g.H({D:"div",Oc:["ytp-player-content","ytp-iv-player-content"]});g.b(this,this.j);g.uc(this.player,this.j.element,4);this.j.hide();this.X=new g.H({D:"div",Oc:["ytp-iv-video-content"]});g.b(this,this.X);Y=this.createElement({D:"div",C:"video-annotations"});
Y.appendChild(this.jG);this.X.element.appendChild(Y);this.SU()&&this.load();var n=this.createElement({D:"style"});(g.P_("HEAD")[0]||document.body).appendChild(n);this.addOnDisposeCallback(function(){g.A5(n)});
if(Y=n.sheet)Y.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),Y.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),Y.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),Y.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),Y.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),Y.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),Y.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),Y.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),Y.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),Y.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},wZL=function(Y){Y=Y.createElement({D:"div",
Oc:["annotation","annotation-type-custom"]});g.kS(Y,!1);return Y},WOX=function(Y,u){u=!u.isCued()&&!g.V(u,1024);
Y.j.v$(u);Y.X.v$(u)},eQC=function(Y,u,n){Y.Z=!0;
Y.J=g.Ak(u,n)},brX=function(Y,u){for(var n={},U=g.A(u.attributes),k=U.next();!k.done;k=U.next())k=k.value,n[k.name]=k.nodeValue;
for(U=0;U<u.childNodes.length;U++)if(k=u.childNodes[U],g.XG(k)&&k.nodeType==1){if(n[k.tagName])var m=n[k.tagName];else if(k.tagName==="data"){k.childNodes.length>0&&(m=k.childNodes[0].nodeValue,n[k.tagName]=typeof m==="string"?m.trim():m);continue}else m=[],n[k.tagName]=m;k&&k.tagName==="TEXT"?k.childNodes.length===1&&k.childNodes[0].nodeType===3?m.push(k.childNodes[0].nodeValue):m.push(""):k&&m.push(brX(Y,k))}return n},Ely=function(Y){var u=Y.player.getVideoData();
if(u.JJ){var n=Y.player.Y().Fk.get(u.videoId);if(n){var U={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(k,m,X){k=Y.loadNumber;m=u.videoId;Y.loaded&&Y.loadNumber===k&&Y.player.getVideoData().videoId===m&&(X=g.fv(X)&&X.responseXML?X.responseXML:null)&&IEX(Y,X)}};
g.J6()&&(U.onFinish=zQg(Y,U.onFinish));U.postParams={ic_only:"1"};glG(U,n);Y.Z=!0;g.Ak(u.JJ,U)}}},glG=function(Y,u){Y.method="POST";
Y.postParams=Y.postParams||{};u.d0&&(Y.postParams.ic_coll=u.d0);u.xX&&(Y.postParams.ic_xml=u.xX);u.f7&&(Y.postParams.ic_track=u.f7)},HrC=function(Y){var u=new g.H({D:"div"});
g.kS(u.element,!1);var n=new PuL(Y.player,u.element,No(Y));g.b(n,u);u.yF(Y.j.element);n.Yf();return n},V4X=function(Y,u){var n,U;
if(u=(n=u.getWatchNextResponse())==null?void 0:(U=n.cards)==null?void 0:U.cardCollectionRenderer)Y.KG=!0,yPC(Y,u),u.headerText&&Y.Qj&&(n=g.Cw(u.headerText),Y.player.V("player_tooltip_data_title_killswitch")?Y.Qj.setAttribute("title",n):Y.Qj.setAttribute("data-tooltip-title",n))},No=function(Y){if(!Y.N){var u=new BmC(Y);
g.b(Y,u);var n=new g.rH(Y);g.b(Y,n);Y.N=new t4X(u,n,Y.player.Y(),Y.player.getVideoData(),Y.logger,Y.player,Y.KF)}return Y.N},IEX=function(Y,u){var n=!1,U=u.getElementsByTagName("annotations");
if(U&&!(U.length<1)&&(U=U[0].getAttribute("itct"))){var k=g.sC();if(k){var m=g.Mn();m&&g.O_(g.eg)(void 0,k,m,[g.Tn(U)])}}u=u.getElementsByTagName("annotation");for(U=0;U<u.length;U++){m=brX(Y,u[U]);k=null;try{if(m){var X=m.id,S=/.+/;var C=typeof X==="string"&&S!=null&&X!=null&&X.match(S)?X:"";var f=V2(m.type,OrQ),Q=V2(m.style,FOR),N=Edy(m.data),Z=N.length!==0?JSON.parse(N):{};var T=m.action;m=JuQ;if(T==null)var r=null;else if(g.mg(T)){S=[];for(var K=g.A(T),L=K.next();!L.done;L=K.next()){var R=m(L.value);
R&&S.push(R)}r=S}else{var c=m(T);r=c?[c]:[]}k=C&&f?new qaB(C,f,Q,r,Z):null}else k=null}catch(Xd){}if(k)if(k.type==="branding"||k.type==="promotion"){m=Y;S=k;var x=wZL(m),W=null;switch(S.type){case "branding":if(m.player.Y().Qe)break;m.player.V("web_player_overlay_positioned_layout")?(x.setAttribute("data-overlay-order","11"),m.player.JV(x,4,!0)):m.j.element.appendChild(x);W=new fZ(x,No(m),S);break;case "promotion":g.uc(m.player,x,4),W=new Byy(x,No(m),S)}W&&W.Yf();if(m=W)g.b(Y,m),Y.W[k.id]=m}else if(k.type===
"card"||k.type==="drawer"){Y.K||(Y.K=HrC(Y),g.b(Y,Y.K));if(k.type==="card"){x=Y.K;var E=(n=k)&&n.data&&n.data.card_type;k=n.data;if(E)switch(m=k.tracking||{},m={df:m.impression,click:m.click,close:m.close,cT:m.teaser_impression,Xd:m.teaser_click},S=k.tracking_params||{},W=null,E){case "collaborator":n={id:n.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||
!1,UP:m,r_:S.card?g.Tn(S.card):null,Bd:S.teaser?g.Tn(S.teaser):null,wL:S.icon?g.Tn(S.icon):null,channelId:k.channel_id,customMessage:k.custom_message?k.custom_message:null,profileImageUrl:k.image_url,title:k.title,metaInfo:k.meta_info,url:F6({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url}),onClickCommand:null};me(x,n);break;case "playlist":n={id:n.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,
autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,UP:m,r_:S.card?g.Tn(S.card):null,Bd:S.teaser?g.Tn(S.teaser):null,wL:S.icon?g.Tn(S.icon):null,XU:k.image_url,playlistVideoCount:k.playlist_video_count,customMessage:k.custom_message?k.custom_message:null,title:k.title,metaInfo:k.meta_info,url:F6({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url}),onClickCommand:null};me(x,n);break;case "productListing":k.signin_url&&(W=F6({target:"current",
value:k.signin_url}));E=[];for(var J=k.offers||[],O=0;O<J.length;O++)E.push(new U_Q(g.DO(J[O].merchant),g.DO(J[O].price)));n={id:n.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,UP:m,r_:S.card?g.Tn(S.card):null,Bd:S.teaser?g.Tn(S.teaser):null,wL:S.icon?g.Tn(S.icon):null,imageUrl:k.image_url,displayDomain:k.display_domain?k.display_domain:
null,showLinkIcon:!!k.show_link_icon,Il:k.button_icon_url?k.button_icon_url:null,title:k.title,customMessage:k.custom_message?k.custom_message:null,url:F6({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url}),j8w:W,bfa:k.signin_title?k.signin_title:void 0,hlJ:k.signin_message?k.signin_message:void 0,offers:E,onClickCommand:null};me(x,n);break;case "simple":n={id:n.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,
startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,UP:m,r_:S.card?g.Tn(S.card):null,Bd:S.teaser?g.Tn(S.teaser):null,wL:S.icon?g.Tn(S.icon):null,imageUrl:k.image_url,displayDomain:k.display_domain?k.display_domain:null,showLinkIcon:!!k.show_link_icon,Il:k.button_icon_url?k.button_icon_url:null,title:k.title,customMessage:k.custom_message?k.custom_message:null,url:F6({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url}),onClickCommand:null};
me(x,n);break;case "video":n={id:n.id,timestamp:k.timestamp||0,type:k.card_type,teaserText:k.teaser_text,teaserDurationMs:k.teaser_duration_ms,startMs:k.start_ms,autoOpen:k.auto_open||!1,sessionData:k.session_data||{},sponsored:k.sponsored||!1,UP:m,r_:S.card?g.Tn(S.card):null,Bd:S.teaser?g.Tn(S.teaser):null,wL:S.icon?g.Tn(S.icon):null,XU:k.image_url,videoDuration:k.video_duration||null,customMessage:k.custom_message?k.custom_message:null,title:k.title,metaInfo:k.meta_info,isLiveNow:!!k.is_live_now,
url:F6({pause_on_navigation:k.pause_on_navigation,target:k.target||"new",value:k.url}),onClickCommand:null},me(x,n)}}else SxX(Y.K,k);n=!0}}n&&(Ri(Y.player),Y.e9())},yPC=function(Y,u){var n=!1;
Y.K||(Y.K=HrC(Y),g.b(Y,Y.K));for(var U=g.A(u.cards||[]),k=U.next();!k.done;k=U.next())k=k.value,k.cardRenderer&&(Cuq(Y.K,k.cardRenderer),n=!0);if(n){var m;(m=Y.player.getVideoData())!=null&&g.kN(m)||(n=Y.K,U=u.headerText?g.Cw(u.headerText):"",g.Ki(n.Ru,U),n.J&&(n.L.V("player_tooltip_data_title_killswitch")?n.J.setAttribute("title",U):n.J.setAttribute("data-tooltip-title",U)),n.context.videoData.eventId&&(n.eventId=n.context.videoData.eventId),n.rg=u.trackingParams?g.Tn(u.trackingParams):null,n.Z=
u.closeButton.infoCardIconRenderer.trackingParams?g.Tn(u.closeButton.infoCardIconRenderer.trackingParams):null,n.wL=u.icon.infoCardIconRenderer.trackingParams?g.Tn(u.icon.infoCardIconRenderer.trackingParams):null,Y.e9());Ri(Y.player)}},JPX=function(Y,u,n,U,k){if(!Y.player.Y().Qe){var m=[];
u.navigationEndpoint&&g.z(u.navigationEndpoint,g.qW)&&g.z(u.navigationEndpoint,g.qW).browseId&&m.push(new V_$("openUrl","click",new Hn$("/channel/"+g.z(u.navigationEndpoint,g.qW).browseId,"new",!0,!0)));var X=u.watermark.thumbnails[0];U={channel_name:u.channelName,end_ms:u.endTimeMs,image_height:X.height,image_type:1,image_url:X.url,image_width:X.width,is_mobile:!1,session_data:{annotation_id:n,ei:k,feature:"iv",itct:u.trackingParams,src_vid:U},start_ms:u.startTimeMs};if(u.subscribeButton&&g.z(u.subscribeButton,
g.a2)){U.channel_id=g.z(u.subscribeButton,g.a2).channelId;var S;u=g.z(u.subscribeButton,g.a2);X=k=null;u.subscribed?(u.subscriberCountWithUnsubscribeText&&(k=g.Cw(u.subscriberCountWithUnsubscribeText)),u.subscriberCountText&&(X=g.Cw(u.subscriberCountText))):(u.subscriberCountText&&(k=g.Cw(u.subscriberCountText)),u.subscriberCountWithSubscribeText&&(X=g.Cw(u.subscriberCountWithSubscribeText)));var C,f=((C=g.z((S=u.signInEndpoint)==null?void 0:S.commandMetadata,g.L7))==null?void 0:C.url)||"";S={subscribeText:g.Cw(u.unsubscribedButtonText),
subscribeCount:k||"",unsubscribeText:g.Cw(u.subscribedButtonText),unsubscribeCount:X||"",enabled:u.enabled||!1,classic:!1,subscribed:u.subscribed||!1,feature:"iv",signInUrl:f};U.standalone_subscribe_button_data=S}m=new qaB(n,"branding","branding",m,U);S=wZL(Y);Y.player.V("web_player_overlay_positioned_layout")?(S.setAttribute("data-overlay-order","11"),Y.player.JV(S,4,!0)):Y.j.element.appendChild(S);m=new fZ(S,No(Y),m);m.Yf();g.b(m,m);Y.W[n]=m}},zQg=function(Y,u){return function(){var n=g.It.apply(0,
arguments);
Y.gg()||Y.oV.push(g.WA.MX(function(){u.apply(null,g.Zu(n))}))}},qxG=function(Y){return Y==="annotation-editor"||Y==="live-dashboard"};
g.Vs.prototype.o6=g.ke(39,function(Y,u){var n=g.gO(this.ym());n&&n.o6(Y,u)});
var xD={},lX=null;g.T$(wt,g.SK);g.M=wt.prototype;g.M.getDuration=function(){return this.duration};
g.M.play=function(Y){if(Y||this.K==0)this.progress=0,this.coords=this.j;else if(this.isPlaying())return!1;h4(this);this.startTime=Y=g.iQ();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.G=this.startTime;this.progress||this.AM();this.oD("play");this.isPaused()&&this.oD("resume");this.K=1;var u=g.SB(this);u in xD||(xD[u]=this);GmC();Aug(this,Y);return!0};
g.M.stop=function(Y){h4(this);this.K=0;Y&&(this.progress=1);jHy(this,this.progress);this.onStop();this.B3()};
g.M.pause=function(){this.isPlaying()&&(h4(this),this.K=-1,this.oD("pause"))};
g.M.nG=function(){this.K==0||this.stop(!1);this.oD("destroy");wt.PM.nG.call(this)};
g.M.destroy=function(){this.dispose()};
g.M.eR=function(){this.oD("animate")};
g.M.oD=function(Y){this.dispatchEvent(new KXu(Y,this))};
g.T$(KXu,g.Vy);g.T$(Wb,wt);Wb.prototype.X=function(){};
Wb.prototype.eR=function(){this.X();Wb.PM.eR.call(this)};
Wb.prototype.B3=function(){this.X();Wb.PM.B3.call(this)};
Wb.prototype.AM=function(){this.X();Wb.PM.AM.call(this)};
g.T$(p7$,Wb);p7$.prototype.X=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.d(BmC,g.e);g.M=BmC.prototype;g.M.listen=function(Y,u,n,U){n=(0,g.fR)(n,U||this.j);Y=g.s2(Y,u,n);this.K.push(Y);return Y};
g.M.Ik=function(Y,u,n,U){n=(0,g.fR)(n,U||this.j);Y=sHG(Y,u,n);this.K.push(Y);return Y};
g.M.qR=function(Y){g.dT(Y);g.pR(this.K,Y)};
g.M.removeAll=function(){g.dT(this.K);this.K.length=0};
g.M.nG=function(){this.removeAll();g.e.prototype.nG.call(this)};g.d(vd$,g.vH);g.M=vd$.prototype;g.M.load=function(){g.vH.prototype.load.call(this);if(!Ii(this)){var Y=g.HBu(this.player.getVideoData());Y?(Y=cuQ(Y,RKq(this)),zk(this,Y,!1)):De$(this)}};
g.M.unload=function(){zk(this,null);this.G&&(this.G.abort(),this.G=null);g.vH.prototype.unload.call(this)};
g.M.z6=function(Y,u){return Ii(this)?Y==="loadCustomEndscreenRenderer"?(Y=cuQ(u,"new"),zk(this,Y),!0):null:null};
g.M.getOptions=function(){return Ii(this)?["loadCustomEndscreenRenderer"]:[]};
g.M.pT=function(){if(this.endscreen&&this.endscreen.elements){var Y=this.player.getVideoContentRect();if(Y&&Y.width!==0&&Y.height!==0){var u=this.player.getPlayerSize();if(u&&u.width!==0&&u.height!==0){var n=Y.width/Y.height;var U=0;for(var k=-1,m=0;m<aEq.length;m++){var X=Math.abs(u.width-aEq[m]);if(k===-1||U>=X)k=m,U=X}U=$_X[k];this.X&&g.yV(this.X.element,"outline-width",Math.max(u.width,u.height)+"px");for(u=0;u<this.endscreen.elements.length;++u)if(m=this.endscreen.elements[u].id,k=this.j[m],
X=this.W[m],k&&X){var S=X.width*n/X.aspectRatio,C=Math.round(X.width*Y.width);m=Math.round(S*Y.height);var f=Y.left+Math.round(X.left*Y.width),Q=Y.top+Math.round(X.top*Y.height);g.nP(k.element,C,m);g.au(k.element,f,Q);g.XE(k.element,YMQ);C>256||m>256?g.UN(k.element,"ytp-ce-large-round"):C>96||m>96?g.UN(k.element,"ytp-ce-medium-round"):g.UN(k.element,"ytp-ce-small-round");g.XE(k.element,uYQ);C=X.left+X.width/2;X=X.top+S/2;g.UN(k.element,C<=.5&&X<=.5?"ytp-ce-top-left-quad":C>.5&&X<=.5?"ytp-ce-top-right-quad":
C<=.5&&X>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.XE(k.element,$_X);g.UN(k.element,U);(k=g.Ci(document,"div","ytp-ce-expanding-overlay-body",k.element)[0])&&g.yV(k,"height",m+"px")}}}}};
g.M.onCueRangeEnter=function(Y){if(this.endscreen)if(Y.getId()==="ytp-ce-in-endscreen")y2(this,this.endscreen.impressionUrls),(Y=g.sC())&&this.endscreen.visualElement&&g.OC(Y,this.endscreen.visualElement),this.K&&(g.UN(this.K,"ytp-ce-element-show"),this.K.removeAttribute("aria-hidden"),this.player.tD()?g.UN(this.K,"ytp-ce-hide-button-lower"):g.mU(this.K,"ytp-ce-hide-button-lower"));else{Y=Y.getId().substring(15);var u=this.j[Y],n=this.W[Y];g.UN(u.element,"ytp-ce-element-show");u.element.removeAttribute("aria-hidden");
u=this.player.getRootNode();g.UN(u,"ytp-ce-shown");y2(this,n.impressionUrls);(u=g.sC())&&g.OC(u,n.visualElement);this.player.Y().Z&&this.player.Yw("endscreenelementshown",Y)}};
g.M.onCueRangeExit=function(Y){if(Y.getId()==="ytp-ce-in-endscreen")this.K&&(g.mU(this.K,"ytp-ce-element-show"),this.K.setAttribute("aria-hidden","true"));else{Y=Y.getId().substring(15);var u=this.j[Y];g.mU(u.element,"ytp-ce-element-show");u.element.setAttribute("aria-hidden","true");u=this.player.getRootNode();g.mU(u,"ytp-ce-shown");this.player.Y().Z&&this.player.Yw("endscreenelementhidden",Y)}};
g.M.Hsk=function(Y){var u=this;Y.target===window&&(new g.Vp(function(){for(var n=g.A(Object.values(u.j)),U=n.next();!U.done;U=n.next())g.XE(U.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.M.v$=function(Y){for(var u=g.A(Object.values(this.j)),n=u.next();!n.done;n=u.next())n=n.value,Y?n.element.setAttribute("hidden",""):n.element.removeAttribute("hidden")};
g.M.zRw=function(Y){this.K&&this.player.getRootNode().removeChild(this.K);Y&&(g.UN(Y,"ytp-ce-hide-button-container"),this.K=Y,g.uc(this.player,this.K,4))};
var aEq=[346,426,470,506,570,640,853,1280,1920],$_X="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),uYQ=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],YMQ=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var yuy={fyG:"current",eK2:"new"};var OnR={CLOSE:"close",T3k:"openUrl",SUBSCRIBE:"subscribe"},FX$={cVg:"click",CLOSE:"close",nvw:"hidden",lpw:"rollOut",iYz:"rollOver",T9c:"shown"};qaB.prototype.Ff=function(){var Y=aT$(this,function(u){return u.type==="openUrl"&&u.url!=null});
return Y?Y.url:null};
var FOR={v$k:"anchored",jB:"branding",CHANNEL:"channel",o8a:"cta",jmk:"highlightText",tcJ:"label",PLAYLIST:"playlist",POPUP:"popup",U$G:"speech",SUBSCRIBE:"subscribe",XsF:"title",VIDEO:"video",PbG:"website"},OrQ={jB:"branding",SP2:"card",yDG:"drawer",b1Z:"highlight",rUa:"marker",GGa:"promotion",TEXT:"text",gMa:"widget"};g.d($D,g.e);g.M=$D.prototype;g.M.addCueRange=function(Y,u,n,U,k){Y=new g.EE(Y,u,{id:n,namespace:"annotations_module"});U&&this.zZ.set(Y,U);k&&this.TZ.set(Y,k);this.context.L.l6([Y],1)};
g.M.Yf=function(){this.context.j.subscribe("resize",this.B5,this)};
g.M.q1=function(){return this.element};
g.M.EL=function(Y,u,n,U,k,m){if(this.Uc)return!1;m&&(m.stopPropagation(),m.preventDefault());this.navigate(Y,n,U,k);return!1};
g.M.show=function(){};
g.M.hide=function(){};
g.M.destroy=function(){g.A5(this.q1())};
g.M.B5=function(){};
g.M.navigate=function(Y,u,n,U){var k=this,m=O4(Y);if(m){var X=m_y(m,Y.target),S=function(){Y.K&&k.context.L.pauseVideo();var C=k.context.videoData.sD||!1,f=g.Yo(m||"");C&&f&&(f.v||f.list)?k.context.L.EK(f.v,u,f.list,!1):g.eZ(m||"",X==="current"?"_top":void 0,u)};
X==="new"&&(S(),S=null);Q0(this.context.logger,n,S,U);kT$(m)||(n=g.sC(),U=u.itct,n&&U&&g.qn(n,g.Tn(U)))}};
g.M.nG=function(){this.zZ.clear();this.TZ.clear();g.e.prototype.nG.call(this)};
g.M.createElement=function(Y){Y=new g.H(Y);g.b(this,Y);return Y.element};g.d(PuL,$D);g.M=PuL.prototype;g.M.qS=function(){this.oV&&me(this,this.oV)};
g.M.isAvailable=function(){var Y;if(Y=!!this.cards.length)(Y=this.L.getRootNode())?(Y=g.Ui(Y),Y=173<Y.width&&173<Y.height):Y=!1;return Y};
g.M.B5=function(){var Y=this.isAvailable();g.kS(this.q1(),Y);g.PP(this.context.L.getRootNode(),g.pq.IV_DRAWER_ENABLED,Y);Ri(this.L)};
g.M.destroy=function(){this.L.o6(!1);try{this.L.getRootNode().removeChild(this.G)}catch(Y){}g.a9(this.KG);g.Lb(this.JJ);this.CG&&this.CG.dispose();this.W&&this.W.dispose();$D.prototype.destroy.call(this)};
g.M.yp=function(){var Y=this;this.context.K.listen(g.fi("iv-drawer-close-button",this.G),"click",this.fm,this);this.context.K.listen(this.j,"touchend",function(){Y.DW.start()});
this.context.K.listen(this.j,"scroll",this.Bm,this);this.context.j.subscribe("onHideControls",function(){Y.Fk=!0});
this.context.j.subscribe("onShowControls",function(){Y.Fk=!1});
this.context.j.subscribe("onVideoAreaChange",function(){Y.Fk=g.nE(Y.L.getRootNode(),"ytp-autohide")});
this.KG.push(g.q3("iv-button-shown",this.Y1,this));this.KG.push(g.q3("iv-button-hidden",this.TU,this));Zrg(this)};
g.M.findLastIndex=function(Y){if(this.cards.length===0)return 0;var u=g.Ay(this.cards,function(n){return Y.Cp.startMs>n.Cp.startMs||Y.Cp.startMs===n.Cp.startMs&&Y.Cp.timestamp>=n.Cp.timestamp?!0:!1});
return u===-1?0:u+1};
g.M.fm=function(){if(this.X){Q0(this.context.logger,SD(this).UP.close);var Y=g.sC();Y&&this.Z&&g.qn(Y,this.Z);U3(this)}};
g.M.Bm=function(){g.PP(this.G,"iv-drawer-scrolled",this.j.scrollTop>0)};
g.M.Y1=function(){var Y=g.sC(),u=SD(this);u=u?u.wL:this.wL;Y&&u&&g.Fo(Y,[u])};
g.M.TU=function(){var Y=g.sC(),u=SD(this);u=u?u.wL:this.wL;Y&&u&&g.Jl(Y,[u])};
g.M.Zg=function(){var Y=SD(this);Q0(this.context.logger,Y.UP.cT);var u=g.sC();if(u&&Y)if(this.L.V("web_infocards_teaser_show_logging_fix")){var n=[];Y.Bd&&n.push(Y.Bd);Y.wL&&n.push(Y.wL);n.length>0&&g.Fo(u,n)}else g.Fo(u,[Y.Bd,Y.wL])};
g.M.Pi=function(){var Y=g.sC(),u=SD(this);Y&&u&&g.Jl(Y,[u.Bd])};
g.M.Qk=function(Y){var u=SD(this),n=g.sC();this.K?Y?(Y=this.context.logger,Q0(Y,u.UP.Xd),Y.L.sendVideoStatsEngageEvent(4,void 0),n&&u.Bd&&g.qn(n,u.Bd)):(Y=this.context.logger,Q0(Y,u.UP.Xd),Y.L.sendVideoStatsEngageEvent(4,void 0),n&&u.wL&&g.qn(n,u.wL)):(Y=this.context.logger,Q0(Y,u.UP.Xd),Y.L.sendVideoStatsEngageEvent(4,void 0),n&&this.wL&&g.qn(n,this.wL))};g.d(CZ,$D);CZ.prototype.Yf=function(){$D.prototype.Yf.call(this);AP$(this)};
CZ.prototype.show=function(){$D.prototype.show.call(this);var Y=g.sC(),u=this.annotation.data;Y&&u&&(u=u.session_data)&&g.Fo(Y,[g.Tn(u.itct)])};
CZ.prototype.hide=function(){$D.prototype.hide.call(this);var Y=g.sC(),u=this.annotation.data;Y&&u&&(u=u.session_data)&&g.Jl(Y,[g.Tn(u.itct)])};g.d(fZ,CZ);
fZ.prototype.show=function(){if(!this.isActive){CZ.prototype.show.call(this);if(!this.S){g.UN(this.q1(),"iv-branding");var Y=this.annotation.data;this.j=this.createElement({D:"img",Oc:["branding-img","iv-click-target"],T:{"aria-label":"Channel watermark",src:Y.image_url,width:Y.image_width,height:Y.image_height}});g.kS(this.j,!1);var u=this.createElement({D:"button",Oc:["branding-img-container","ytp-button"]});u.appendChild(this.j);this.q1().appendChild(u);var n=this.annotation.Ff();n&&YO(this,u,
n,this.annotation.id,Y.session_data);this.context.L.V("disable_branding_context")||LOB(this,Y);this.S=!0}g.kS(this.q1(),!0);this.isActive=!0;if(this.j){try{jxg(this,this.j)}catch(U){}g.UN(this.context.L.getRootNode(),"ytp-branding-shown");this.context.L.getRootNode().style.setProperty("--branding-image-width",this.j.getAttribute("width")+"px")}}};
fZ.prototype.hide=function(){this.isActive&&(CZ.prototype.hide.call(this),g.kS(this.q1(),!1),this.isActive=!1,g.mU(this.context.L.getRootNode(),"ytp-branding-shown"))};
fZ.prototype.destroy=function(){this.K&&(this.K.dispose(),this.K=null);g.mU(this.context.L.getRootNode(),"ytp-branding-shown");CZ.prototype.destroy.call(this)};g.d(Byy,CZ);g.M=Byy.prototype;g.M.show=function(){this.isActive||(CZ.prototype.show.call(this),this.N||(cP$(this),this.N=!0),g.kS(this.q1(),!0),g.WB(function(){g.mU(this.q1(),"iv-promo-inactive")},100,this),this.q1().removeAttribute("aria-hidden"),this.isActive=!0,x_L(this),vl$(this),RQB(this,this.W))};
g.M.hide=function(){this.isActive&&(g.UN(this.q1(),"iv-promo-inactive"),this.isActive=!1,this.q1().setAttribute("aria-hidden","true"))};
g.M.EL=function(Y,u,n,U,k,m){return this.isCollapsed?!1:CZ.prototype.EL.call(this,Y,u,n,U,k,m)};
g.M.HJ=function(Y){this.Z=!0;olq(this,500,Y)};
g.M.Fj=function(){this.Z=!1;D_q(this)};
g.M.rk=function(Y){Y.stopPropagation();this.hide()};
g.M.DL=function(Y){Y.stopPropagation();x_L(this);this.isCollapsed=!0;g.UN(this.q1(),"iv-promo-collapsed-no-delay");this.J.start()};
g.M.destroy=function(){this.J.dispose();CZ.prototype.destroy.call(this)};g.d(hQQ,g.vH);g.M=hQQ.prototype;g.M.z6=function(Y,u){if(!qxG(this.player.Y().playerStyle))return null;switch(Y){case "loadCustomAnnotationsXml":return(Y=g.YJ(u))&&IEX(this,Y),!0;case "removeCustomAnnotationById":return u&&this.K&&(QxX(this.K,u),Ri(this.player)),!0}return null};
g.M.getOptions=function(){return qxG(this.player.Y().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.M.SU=function(){var Y=this.player.Y(),u=this.player.getVideoData(),n=Y.annotationsLoadPolicy||u.annotationsLoadPolicy;return u.sD||this.player.isMutedByEmbedsMutedAutoplay()?!1:n===1&&!u.LI||Y.Fk.get(u.videoId)||g.mj(u)||g.X0(u)?!0:!1};
g.M.e9=function(){if(this.X){var Y=this.player.tJ().getVideoContentRect(!0);g.nP(this.X.element,Y.width,Y.height);g.au(this.X.element,Y.left,Y.top)}if(this.K){var u=this.player.G_();Y=this.K;u=u.width;g.PP(Y.G,"iv-drawer-small",u<=426);g.PP(Y.G,"iv-drawer-big",u>=1280)}};
g.M.eB=function(Y){WOX(this,Y.state);g.V(Y.state,2)&&(this.tD()&&this.qz()&&this.player.getPresentingPlayerType()!==2&&this.fZ(!1),this.o6(!1))};
g.M.load=function(){function Y(X){var S=u.loadNumber;u.J=null;u.loaded&&u.loadNumber===S&&u.player.getVideoData().videoId===U&&(X=g.fv(X)&&X.responseXML?X.responseXML:null)&&(IEX(u,X),g.UN(u.player.getRootNode(),"iv-module-loaded"))}
var u=this;g.vH.prototype.load.call(this);WOX(this,this.player.getPlayerStateObject());this.loadNumber++;var n=this.player.getVideoData(),U=n.videoId;g.J6()&&(Y=zQg(this,Y));var k={format:"XML",onFinish:Y,onError:function(){u.J=null},
urlParams:{}};n.isPharma&&(k.urlParams.pharma="1");k.method="POST";k.withCredentials=!0;var m=this.player.Y().Fk.get(U);m&&glG(k,m);m=m&&(m.xX||m.d0);if(!n.Z8||m)n.JJ?eQC(this,n.JJ,k):(this.S=function(){if(!u.Z)u.onVideoDataChange(k);var X=u.player.getVideoData();(X==null?0:g.kN(X))&&!u.KG&&V4X(u,X)},this.player.addEventListener("videodatachange",this.S));
g.uc(this.player,this.X.element,4);this.e9();(m=g.mj(n))&&yPC(this,m);(m=g.X0(n))&&m.featuredChannel&&JPX(this,m.featuredChannel,m.annotationId||"branding",n.videoId||null,n.eventId||null);this.Qj=g.fi("ytp-cards-button",this.player.getRootNode());g.kN(n)&&V4X(this,n)};
g.M.onVideoDataChange=function(Y){var u=this.player.getVideoData();u.JJ&&eQC(this,u.JJ,Y)};
g.M.unload=function(){this.player.JS("annotations_module");for(var Y=g.A(Object.keys(this.W)),u=Y.next();!u.done;u=Y.next())this.W[u.value].destroy();this.N=null;this.K&&(this.K.destroy(),this.K=null,Ri(this.player));this.Z=!1;this.J&&(this.J.abort(),this.J=null);this.KG=!1;this.W={};this.j.hide();g.vH.prototype.unload.call(this);this.X.detach();this.S&&(this.player.removeEventListener("videodatachange",this.S),this.S=null)};
g.M.p5=function(Y){Y===this.player.getVideoData().videoId&&(this.loaded?Ely(this):this.load())};
g.M.tD=function(){var Y;return((Y=this.K)==null?void 0:Y.isAvailable())||this.KG};
g.M.qz=function(){return!!this.K&&this.K.X};
g.M.fZ=function(Y,u,n){u=u===void 0?!1:u;this.tD();this.K&&(Y?n?nZ(this.K,n,u):nZ(this.K,"YOUTUBE_DRAWER_AUTO_OPEN",u):U3(this.K))};
g.M.o6=function(Y,u){this.player.publish(Y?"cardsteasershow":"cardsteaserhide",u)};
g.M.nG=function(){this.player.Y().Fk.unsubscribe("vast_info_card_add",this.p5,this);g.mU(this.player.getRootNode(),g.pq.IV_DRAWER_OPEN);for(var Y=this.oV,u=g.WA,n=0,U=Y.length;n<U;n++)u.aO(Y[n]);this.oV.length=0;g.vH.prototype.nG.call(this)};
g.M.createElement=function(Y){Y=new g.H(Y);g.b(this,Y);return Y.element};g.cH("annotations_module",hQQ);g.cH("creatorendscreen",vd$);})(_yt_player);
