(function(g){var window=this;'use strict';var WPL=function(Y,u){if(!Number.isFinite(Y))return String(Y);Y=String(Y);var n=Y.indexOf(".");n===-1&&(n=Y.length);var U=Y[0]==="-"?"-":"";U&&(Y=Y.substring(1));return U+(0,g.xXL)("0",Math.max(0,u-n))+Y},ezq=function(){return{D:"svg",
T:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},U:[{D:"path",T:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},bcg=function(){return{D:"svg",
T:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},U:[{D:"path",T:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},zzy=function(Y){typeof Y==="number"?(this.date=INg(Y,0,1),jT(this,1)):g.XG(Y)?(this.date=INg(Y.getFullYear(),Y.getMonth(),Y.getDate()),jT(this,Y.getDate())):(this.date=new Date(g.iQ()),Y=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),jT(this,Y))},INg=function(Y,u,n){u=new Date(Y,u,n);
Y>=0&&Y<100&&u.setFullYear(u.getFullYear()-1900);return u},jT=function(Y,u){Y.getDate()!=u&&Y.date.setUTCHours(Y.date.getUTCHours()+(Y.getDate()<u?1:-1))},Ks=function(Y,u){g.SL.call(this,Y,{D:"div",
C:"ytp-reminder-menu",T:{role:"menu",tabindex:"-1"},U:[{D:"div",C:"ytp-reminder-menu-contents",U:[{D:"div",C:"ytp-reminder-menu-items"}]}]},100,!0);this.K=u;this.X=[];this.menuPopupRenderer=void 0;this.items=this.Xk("ytp-reminder-menu-items");this.hide()},g5G=function(Y){return(Y.menuPopupRenderer&&Y.menuPopupRenderer.items||[]).reduce(function(u,n){n&&n.menuServiceItemRenderer&&u.push(n.menuServiceItemRenderer);
return u},[])},ps=function(Y){g.H.call(this,{D:"div",
U:[{D:"button",Oc:["ytp-offline-slate-button","ytp-button"],U:[{D:"div",C:"ytp-offline-slate-button-icon",RV:"{{icon}}"},{D:"div",C:"ytp-offline-slate-button-text",RV:"{{text}}"}]}]});this.L=Y;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.j=void 0;this.G=this.K=null;(this.W=this.Xk("ytp-offline-slate-button"))&&this.B(this.W,"click",this.S);this.hide()},HcR=function(Y,u,n){!Y.toggleButtonRenderer&&u&&u.toggleButtonRenderer?Y.toggleButtonRenderer=u.toggleButtonRenderer:
u&&u.toggleButtonRenderer||(Y.toggleButtonRenderer=null);
!Y.upcomingEventReminderButtonRenderer&&n&&g.z(n,E5B)?Y.upcomingEventReminderButtonRenderer=g.z(n,E5B):n&&g.z(n,E5B)||(Y.upcomingEventReminderButtonRenderer=null);Ls(Y)},Ls=function(Y){if(Y.toggleButtonRenderer){var u=Y.toggleButtonRenderer;
if(u.isToggled){var n=u.toggledText?g.Cw(u.toggledText):"";Y.update({text:n,icon:yjC(u.toggledIcon)})}else n=u.defaultText?g.Cw(u.defaultText):"",Y.update({text:n,icon:yjC(u.defaultIcon)});Y.show()}else Y.upcomingEventReminderButtonRenderer?(u=V$C(Y))?(n=u.text?g.Cw(u.text):"",Y.update({text:n,icon:yjC(u.icon)}),Y.show()):Y.hide():Y.hide()},FPu=function(Y,u,n){Y.G||(Y.G=new g.HN(Y.L.Y().ZN));
var U={context:g.PN(Y.G.config_||g.Xu())};g.sC()&&(U.context.clientScreenNonce=g.sC());U.params=n;g.yH(Y.G,u,U,{timeout:5E3,onSuccess:function(){Y.upcomingEventReminderButtonRenderer&&Y.j&&(Y.upcomingEventReminderButtonRenderer.currentState=Y.j,Y.j=void 0)},
onError:function(){Oc$(Y)},
onTimeout:function(){Oc$(Y)}})},Oc$=function(Y){Y.toggleButtonRenderer?(Y.toggleButtonRenderer.isToggled=!Y.toggleButtonRenderer.isToggled,Ls(Y)):Y.upcomingEventReminderButtonRenderer&&(Y.j=void 0,Ls(Y))},yjC=function(Y){if(!Y)return null;
switch(Y.iconType){case "NOTIFICATIONS":return ezq();case "NOTIFICATIONS_NONE":return bcg();case "NOTIFICATIONS_ACTIVE":return g.sp();default:return null}},V$C=function(Y){if(!Y.upcomingEventReminderButtonRenderer)return null;
var u=Y.j||Y.upcomingEventReminderButtonRenderer.currentState;Y=g.A(Y.upcomingEventReminderButtonRenderer.states||[]);for(var n=Y.next();!n.done;n=Y.next())if((n=g.z(n.value,Jj$))&&n.state===u&&n.button&&g.z(n.button,g.ie))return g.z(n.button,g.ie);return null},qo$=function(Y){g.H.call(this,{D:"div",
C:"ytp-offline-slate",U:[{D:"div",C:"ytp-offline-slate-background"},{D:"div",C:"ytp-offline-slate-bar",U:[{D:"span",C:"ytp-offline-slate-icon",U:[{D:"svg",T:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},U:[{D:"path",T:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{D:"circle",T:{cx:"12",cy:"12",r:"3"}}]}]},{D:"span",C:"ytp-offline-slate-messages",U:[{D:"div",C:"ytp-offline-slate-main-text",T:{"aria-label":"{{label}}"},RV:"{{mainText}}"},{D:"div",C:"ytp-offline-slate-subtitle-text",RV:"{{subtitleText}}"}]},{D:"span",C:"ytp-offline-slate-buttons"}]},{D:"button",Oc:["ytp-offline-slate-close-button","ytp-button"],U:[g.id()]},{D:"button",Oc:["ytp-offline-slate-open-button","ytp-button"],U:[g.N7()]}]});var u=this;this.api=Y;this.K=this.j=null;this.background=this.Xk("ytp-offline-slate-background");
this.X=this.Xk("ytp-offline-slate-bar");this.W=new g.Vp(function(){g.UN(u.X,"ytp-offline-slate-bar-fade")},15E3);
this.S=!1;this.G=new g.Vp(function(){g.UN(u.element,"ytp-offline-slate-collapsed")},15E3);
g.b(this,this.G);g.b(this,this.W);this.countdownTimer=new g.Vp(this.Mm,1E3,this);this.B(Y,"presentingplayerstatechange",this.Sv);this.B(Y,"livestatedata",this.QF);this.B(this.Xk("ytp-offline-slate-close-button"),"click",function(){g.UN(u.element,"ytp-offline-slate-collapsed")});
this.B(this.Xk("ytp-offline-slate-open-button"),"click",function(){g.mU(u.element,"ytp-offline-slate-collapsed")});
this.hide();Y=this.getVideoData();Y.getPlayerResponse()&&(Y=Y.getPlayerResponse().playabilityStatus)&&this.QF(Y);Y=this.api.getPresentingPlayerType()===8&&!this.getVideoData().xO;var n=this.api.getPresentingPlayerType()===8;g.PP(this.element,"ytp-offline-slate-premiere-trailer",Y);g.PP(this.element,"ytp-offline-slate-hide-background",n)},aNu=function(Y,u,n){if(u){var U=u.subtitleText!=null?g.Cw(u.subtitleText):"";
n=n?n:u.mainText!=null?g.Cw(u.mainText):"";var k,m,X,S;u=(S=(k=u.mainText)==null?void 0:(m=k.accessibility)==null?void 0:(X=m.accessibilityData)==null?void 0:X.label)!=null?S:n;Y.update({mainText:n,subtitleText:U,label:u});g.PP(Y.element,"ytp-offline-slate-single-text-line",!U);g.PP(Y.X,"ytp-offline-slate-bar-hidden",!n&&!U)}},tN=function(Y,u){var n=(0,g.j2)();
this.trigger=Y;this.K=u;this.X=n},kwq=function(Y){g.vH.call(this,Y);
var u=this;this.S=!1;this.Z=0;this.J=!1;this.j=new g.Vp(function(){$P$(u)},0);
this.K=this.heartbeatParams=null;this.G=!1;this.W=new g.lr(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.KG=new g.HN(void 0);this.attestationResponse=Promise.resolve(void 0);this.N=Promise.resolve(void 0);this.utcOffsetMinutes=-(new zzy).getTimezoneOffset();this.X=new g.j3(this);g.b(this,this.j);g.b(this,this.X);YhX(this);uKy(this);this.X.B(Y,"heartbeatparams",this.wb);this.X.B(Y,"presentingplayerstatechange",this.oK);this.X.B(Y,"videoplayerreset",this.fv);this.X.B(Y,g.yk("heartbeat"),
this.onCueRangeEnter);this.G&&this.K&&nV$(this,void 0,this.K);var n=new g.EE(B$(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),U=new g.EE(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});Y.l6([n,U]);USG(this)},USG=function(Y){var u=Y.getVideoData();
!u.V("use_rta_for_player")&&u.wO&&(u=u.botguardData)&&g.rK(u,Y.player.Y())},mSX=function(Y){var u,n;
return g.l(function(U){if(U.j==1)return g.D(U,g.RN0(),2);if(!U.K)return Y.sequenceNumber>=3?U.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):U.return(void 0);u=Y.getVideoData();n={};return U.return(g.vH0((n.cpn=u.clientPlaybackNonce,n.encryptedVideoId=u.videoId||"",n),1500))})},YhX=function(Y){var u=Y.getVideoData();
if(u.wO)if(u.V("use_rta_for_player"))Y.attestationResponse=mSX(Y);else if(u=new g.gFu(u),g.i6.isInitialized()||Y.sequenceNumber>=3){var n=Promise,U=n.resolve,k=null;if(u.videoData.Y5){var m=g.EF0(u);if(m){k={};var X={};m=m.split("&");m=g.A(m);for(var S=m.next();!S.done;S=m.next())S=S.value.split("="),S.length===2&&(X[S[0]]=S[1]);X.r1a&&(k.webResponse=X.r1a);X.r1c&&(k.error=Xd$[Number(X.r1c)]);k.challenge=u.videoData.Y5}}Y.attestationResponse=U.call(n,k||void 0)}},PZG=function(Y){var u=Y.getVideoData();
if(!g.yf(Y.getVideoData())||u.UR)return!1;if(u.J){Y=u.J.flavor==="playready"&&u.V("html5_innertube_heartbeats_for_playready");var n=u.J.flavor==="widevine"&&u.V("html5_innertube_heartbeats_for_widevine");u=g.Nj(u.J)&&u.V("html5_innertube_heartbeats_for_fairplay");return!(Y||n||u)}return!0},ShB=function(Y){if(PZG(Y))return!!Y.heartbeatParams;
var u=Y.getVideoData();return!g.yf(Y.getVideoData())||u.Y$||u.l3?!!u.heartbeatToken:!1},oq=function(Y,u){if(!Y.j.isActive()&&Y.S){var n=Y.getVideoData();
if(ShB(Y)||n.isLivePlayback){if(u===void 0)if(Y.J)if(Y.G)u=7500;else{var U;u=((U=Y.heartbeatParams)==null?0:U.interval)?Y.heartbeatParams.interval*1E3:Y.getVideoData().n_||6E4}else u=1E3;Y.j.start(u)}}},NXG=function(Y,u,n){u.Zx&&(n=g.Mk(n,{internalipoverride:u.Zx}));
var U={cpn:u.clientPlaybackNonce};u.contextParams&&(U.context_params=u.contextParams);u.uD&&(U.kpt=u.uD);n=g.Mk(n,U);g.Ak(n,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(k){if(!Y.j.isActive()&&c$(Y)){Y.W.reset();Y.sequenceNumber++;k=k.responseText;var m=CZG(k);if(m){Y.player.Yw("onHeartbeat",m);var X=m.status==="ok"?m.stop_heartbeat?2:0:m.status==="stop"?1:m.status==="live_stream_offline"?0:-1}else X=(X=k.match(fMJ))?X[1]==="0"?0:1:-1;Qdg(Y,void 0,m,k,X)}},
onError:function(k){c$(Y)&&v$(Y,!0,"net-"+k.status)},
onTimeout:function(){c$(Y)&&v$(Y,!0,"timeout")},
withCredentials:!0})},$P$=function(Y){var u,n;
g.l(function(U){u=Y.player.Y();n=Y.getVideoData();if(!c$(Y))return U.return();if(PZG(Y))return itQ(Y,u,n),U.qF(0);YhX(Y);return g.D(U,Ztu(Y,u,n),0)})},itQ=function(Y,u,n){var U;
if((U=Y.heartbeatParams)!=null&&U.url){var k=g.Mk(Y.heartbeatParams.url,{request_id:g.AwM()});n.rg&&(k=g.Mk(k,{vvt:n.rg}),n.mdxEnvironment&&(k=g.Mk(k,{mdx_environment:n.mdxEnvironment})));g.DA(u,n.oauthToken).then(function(m){m&&(k=g.Mk(k,{access_token:m}));NXG(Y,n,k)})}},c$=function(Y){var u=Y.getVideoData();
return Y.player.getPresentingPlayerType()===3||g.V(Y.player.getPlayerStateObject(Y.getPlayerType()),4)?!1:ShB(Y)||u.isLivePlayback?!0:(Rq(Y),!1)},Ztu=function(Y,u,n){var U,k,m,X,S,C,f,Q,N,Z,T,r,K,L,R,c,x,W,E,J;
return g.l(function(O){if(O.j==1)return U="player/heartbeat",m={videoId:n.videoId,sequenceNumber:Y.sequenceNumber,heartbeatServerData:(k=Y.oV)!=null?k:n.heartbeatServerData},Y.N=Y.attestationResponse,n.wO?g.D(O,Y.N,3):O.qF(2);O.j!=2&&(m.attestationResponse=O.K);X=g.t3(n);C=(S=X.client)!=null?S:{};C.utcOffsetMinutes=Y.utcOffsetMinutes;m.context=X;m.cpn=n.clientPlaybackNonce;if(f=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)C.timeZone=f;Q={heartbeatChecks:[]};
if(N=n.getPlayerResponse())n.heartbeatToken&&(m.heartbeatToken=n.heartbeatToken),(Z=N.playabilityStatus)&&(T=Z.liveStreamability)&&T.liveStreamabilityRenderer&&Q.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");n.heartbeatToken&&Q.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.NV(u)&&(Q.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),r=TXX(Y),K={},r!==null&&(K.clientPlayerPositionUtcMillis=r),R=(L=Y.player.ym())==null?void 0:g.IW(L),x=((c=R)==null?void 0:c.freePreviewWatchedDuration)||
0,x>0&&(K.freePreviewWatchedDuration={seconds:""+x}),Q.unpluggedParams=K);m.heartbeatRequestParams=Q;n.isLivePlayback?(W=TXX(Y),W!==null&&(m.playbackState||(m.playbackState={}),m.playbackState.playbackPosition={utcTimeMillis:W})):u.V("enable_heartbeat_vod_playback_position")&&(E=rJ$(Y),E!==null&&(m.playbackState||(m.playbackState={}),m.playbackState.playbackPosition={streamTimeMillis:E}));Y.player.publish("heartbeatRequest",m);J={timeout:3E4,onSuccess:function(Xd){if(!Y.j.isActive()&&c$(Y)){var T0=
Y.getVideoData(),SM=T0.wO&&Y.N==null,CY;T0.wO=!((CY=Xd.heartbeatAttestationConfig)==null||!CY.requiresAttestation)||SM;SM=Xd.playabilityStatus;CY=JSON.stringify(SM)||"{}";Xd.authenticationMismatch&&Y.player.fG("authshear",{});var uB=-1;var cc=Xd.playabilityStatus;cc&&(Y.player.Yw("onHeartbeat",cc),cc.status==="OK"?uB=Xd.stopHeartbeat?2:0:cc.status==="UNPLAYABLE"?uB=1:cc.status==="LIVE_STREAM_OFFLINE"&&(uB=0));Y.sequenceNumber&&uB===-1||Y.W.reset();Y.sequenceNumber++;Xd.heartbeatServerData&&(Y.oV=
Xd.heartbeatServerData);T0.BG=Xd;(cc=Xd.playerCueRangeSet)&&g.jX(T0,cc);Xd.playerCueRanges&&Xd.playerCueRanges.length>0&&(T0.cueRanges=Xd.playerCueRanges);var J7,uQ;((J7=Xd.progressBarConfig)==null?0:J7.progressBarStartPosition)&&((uQ=Xd.progressBarConfig)==null?0:uQ.progressBarEndPosition)&&(T0.progressBarStartPosition=Xd.progressBarConfig.progressBarStartPosition,T0.progressBarEndPosition=Xd.progressBarConfig.progressBarEndPosition);T0.compositeLiveIngestionOffsetToken=Xd.compositeLiveIngestionOffsetToken;
Xd.compositeLiveStatusToken!==T0.compositeLiveStatusToken&&(T0.compositeLiveStatusToken=Xd.compositeLiveStatusToken);T0.publish("dataupdated");Qdg(Y,Xd,SM,CY,uB)}},
onError:function(Xd){c$(Y)&&v$(Y,!0,"net-"+Xd.status)},
onTimeout:function(){c$(Y)&&v$(Y,!0,"timeout")}};
g.DA(u,g.Qs(n)).then(function(Xd){Xd&&(J.LN="Bearer "+Xd);g.yH(Y.KG,U,m,J)});
g.KY(O)})},Qdg=function(Y,u,n,U,k){k===-1?(n="decode "+g.ci(U,3),v$(Y,!1,n)):k===2?(Rq(Y),Y.J=!0):(Y.Z=0,Y.j.stop(),k===1?(Y.J=!1,n&&n.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&Y.player.J4(!0),k="pe."+(n==null?void 0:n.errorCode)+";ps."+(n==null?void 0:n.status),Y.player.Re("heartbeat.stop",2,Y.UX(U),k),g.ka("heartbeatActionPlayerHalted",MC$(n)),(u==null?0:u.videoTransitionEndpoint)&&n&&(u=u.videoTransitionEndpoint,(U=g.z(u,g.pk))&&sdy(Y,U,n,{itct:u==null?void 0:u.clickTrackingParams}))):(Y.J=
!0,U=0,Y.G&&n&&(U=nV$(Y,u,n),Y.player.publish("livestatedata",n)),U?oq(Y,U):oq(Y)))},nV$=function(Y,u,n){var U=n.liveStreamability&&n.liveStreamability.liveStreamabilityRenderer,k=!(!U||!(U.switchStreamsImmediately||U.transitionTiming&&U.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
u=dSR(Y,u,U);var m=Y.getVideoData(),X=Y.player.getPlayerStateObject(Y.getPlayerType()),S=X.isPlaying()&&!g.$R(m)&&!Y.player.isAtLiveHead(Y.getPlayerType());if(m.Y().gX()){var C,f=((C=Y.player.wD())==null?void 0:C.Tw())||{};f.status=n.status||"";f.dvr=""+ +S;f["switch"]=""+ +k;f.ended=""+ +!(!U||!U.displayEndscreen);Y.player.fG("heartbeat",f)}C=Y.player.V("always_cache_redirect_endpoint");if(S&&!k&&!C)return u;f=U&&U.streamTransitionEndpoint&&g.z(U.streamTransitionEndpoint,g.pk);var Q=U&&U.transitionTiming;
if(Q==="STREAM_TRANSITION_TIMING_AT_STREAM_END")Y.getVideoData().transitionEndpointAtEndOfStream=f;else if(C&&!f&&Y.getVideoData().transitionEndpointAtEndOfStream)Y.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!C&&f&&sdy(Y,f,n))return u;if(S&&!k&&C||C&&f&&(Q==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||Q==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&sdy(Y,f,n))return u;if(n.status.toUpperCase()==="OK"){k=U&&U.broadcastId;S=Y.K&&Y.K.liveStreamability&&Y.K.liveStreamability.liveStreamabilityRenderer&&
Y.K.liveStreamability.liveStreamabilityRenderer.broadcastId;C=k!==S&&k!=null;if(!g.Jx(m)||C){var N={video_id:m.videoId};m.cG&&(N.is_live_destination="1");N.disable_watch_next=!0;N.raw_watch_next_response=m.getWatchNextResponse();N.autonav_state=m.autonavState;N.oauth_token=m.oauthToken;N.u5=m.u5;m.W&&(N.vss_credentials_token=m.W,N.vss_credentials_token_type=m.eU);m.rg&&(N.vvt=m.rg);U=void 0;g.Jx(m)?C&&(U=new tN("broadcastIdChanged",S+","+k),Y.vl("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
n)):(k&&(U=new tN("formatsReceived",""+k)),Y.vl("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",n));Y.player.loadVideoByPlayerVars(N,void 0,void 0,void 0,U);return u}Y.player.rL("heartbeat",Y.getPlayerType())}U&&U.displayEndscreen&&(Y.offlineSlate?(Y=Y.offlineSlate,Y.S=!0,Y.KT&&Y.api.ZX()):X.isBuffering()&&(m=((N=Y.player.wD())==null?void 0:N.Tw())||{},Y.player.fG("hbse",m,!0),Y.player.V("html5_report_eos")?Y.player.ZX(!0,"h"):Y.player.ZX(),Y.player.Yw("onLiveMediaEnded",
n)));return u},dSR=function(Y,u,n){return Y.player.V("web_player_use_heartbeat_poll_delay_ms")&&(Y=Number(u==null?void 0:u.pollDelayMs))?Y:(n=Number(n==null?void 0:n.pollDelayMs))?n:0},v$=function(Y,u,n){if(!Y.j.isActive()){Y.j.stop();
Y.Z++;var U=u?"heartbeat.net":"heartbeat.servererror";var k=Y.getVideoData();if(k.De||u&&!g.yf(Y.getVideoData())&&!ShB(Y)&&k.isLivePlayback)k=!1;else{var m,X;((X=Y.heartbeatParams)==null?0:X.retries)?m=Y.heartbeatParams.retries:m=k.DR||5;k=Y.Z>=m}k?(g.ka("heartbeatActionPlayerHalted",u?{enforcedPolicyToHaltOnNetworkFailure:!0}:MC$()),(u=Y.getVideoData())&&u.isLivePlayback?Y.player.Re(U,1,"Video playback interrupted. Please try again.",n):Y.player.Re(U,1,"Sorry, there was an error while licensing this video.",
n)):(oq(Y,Y.W.getValue()),g.hp(Y.W))}},MC$=function(Y){var u={enforcedPolicyToHaltOnNetworkFailure:!1};
Y&&(u.serializedServerContext=Y.additionalLoggingData);return u},Rq=function(Y){Y.Z=0;
Y.j.stop();Y.J=!1;Y.sequenceNumber=0},uKy=function(Y){var u=Y.getVideoData(),n=Y.player.Y();
if(u.isLivePlayback)if(g.pD(n.J)){Y.G=!0;Y.S=!0;if(!g.Zp(n)||g.NV(n))Y.offlineSlate=new qo$(Y.player),g.b(Y,Y.offlineSlate),g.uc(Y.player,Y.offlineSlate.element,4);(u=u.getPlayerResponse())&&u.playabilityStatus&&(Y.K=u.playabilityStatus);var U;((U=Y.K)==null?void 0:U.status)!=="UNPLAYABLE"&&(Y.K?(U=dSR(Y,void 0,Y.K.liveStreamability&&Y.K.liveStreamability.liveStreamabilityRenderer))?oq(Y,U):oq(Y,7500):oq(Y,B$(Y,!0)))}else Y.player.Re("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK",
"nolive.1");else g.jB(u.N,"heartbeat")&&Y.player.rL("heartbeat",Y.getPlayerType())},sdy=function(Y,u,n,U){var k=u&&u.videoId;
return k?(Y.player.EK(k,Object.assign({},{autonav:"1"},U||{}),void 0,!0,!0,u,g.Qs(Y.getVideoData())),Y.vl("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",n),!0):!1},TXX=function(Y){return(Y=Y.player.getProgressState(Y.getPlayerType()).ingestionTime)&&isFinite(Y)?""+Math.floor(Y*1E3):null},rJ$=function(Y){return(Y=Y.player.getCurrentTime(Y.getPlayerType()))&&isFinite(Y)?""+Math.floor(Y*1E3):null},B$=function(Y,u){u=u===void 0?!1:u;
Y=Y.getVideoData();return Y.V("html5_use_server_init_heartbeat_delay")?isNaN(Y.n_)?15E3:Y.n_:u?1E3:2E3},CZG=function(Y){try{var u=JSON.parse(Y);
return u!=null?u:void 0}catch(n){}},GwB={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
GwB={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y",
"d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
var Xd$=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],AJy={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.M=zzy.prototype;g.M.BP=GwB.FIRSTDAYOFWEEK;g.M.Qa=GwB.FIRSTWEEKCUTOFFDAY;
g.M.clone=function(){var Y=new zzy(this.date);Y.BP=this.BP;Y.Qa=this.Qa;return Y};
g.M.getFullYear=function(){return this.date.getFullYear()};
g.M.getYear=function(){return this.getFullYear()};
g.M.getMonth=function(){return this.date.getMonth()};
g.M.getDate=function(){return this.date.getDate()};
g.M.getTime=function(){return this.date.getTime()};
g.M.getDay=function(){return this.date.getDay()};
g.M.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.M.getUTCMonth=function(){return this.date.getUTCMonth()};
g.M.getUTCDate=function(){return this.date.getUTCDate()};
g.M.getUTCDay=function(){return this.date.getDay()};
g.M.getUTCHours=function(){return this.date.getUTCHours()};
g.M.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.M.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.M.set=function(Y){this.date=new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())};
g.M.setFullYear=function(Y){this.date.setFullYear(Y)};
g.M.setYear=function(Y){this.setFullYear(Y)};
g.M.setMonth=function(Y){this.date.setMonth(Y)};
g.M.setDate=function(Y){this.date.setDate(Y)};
g.M.setTime=function(Y){this.date.setTime(Y)};
g.M.setUTCFullYear=function(Y){this.date.setUTCFullYear(Y)};
g.M.setUTCMonth=function(Y){this.date.setUTCMonth(Y)};
g.M.setUTCDate=function(Y){this.date.setUTCDate(Y)};
g.M.add=function(Y){if(Y.years||Y.months){var u=this.getMonth()+Y.months+Y.years*12,n=this.getYear()+Math.floor(u/12);u%=12;u<0&&(u+=12);a:{switch(u){case 1:var U=n%4!=0||n%100==0&&n%400!=0?28:29;break a;case 5:case 8:case 10:case 3:U=30;break a}U=31}U=Math.min(U,this.getDate());this.setDate(1);this.setFullYear(n);this.setMonth(u);this.setDate(U)}Y.days&&(n=this.getYear(),u=n>=0&&n<=99?-1900:0,Y=new Date((new Date(n,this.getMonth(),this.getDate(),12)).getTime()+Y.days*864E5),this.setDate(1),this.setFullYear(Y.getFullYear()+
u),this.setMonth(Y.getMonth()),this.setDate(Y.getDate()),jT(this,Y.getDate()))};
g.M.equals=function(Y){return!(!Y||this.getYear()!=Y.getYear()||this.getMonth()!=Y.getMonth()||this.getDate()!=Y.getDate())};
g.M.toString=function(){var Y=this.getFullYear(),u=Y<0?"-":Y>=1E4?"+":"";return[u+WPL(Math.abs(Y),u?6:4),WPL(this.getMonth()+1,2),WPL(this.getDate(),2)].join("")+""};
g.M.valueOf=function(){return this.date.valueOf()};var jdQ=new g.ju("addUpcomingEventReminderEndpoint");var K5B=new g.ju("removeUpcomingEventReminderEndpoint");var pdq=new g.ju("updateUpcomingEventReminderButtonStateCommand");var E5B=new g.ju("upcomingEventReminderButtonRenderer"),Jj$=new g.ju("upcomingEventReminderButtonStateRenderer");g.d(Ks,g.SL);
Ks.prototype.updateMenuItems=function(){var Y=this,u=g5G(this),n=0;n=0;for(var U={};n<u.length;U={zF:void 0},n++){var k=this.X[n];k||(k=new g.H({D:"div",C:"ytp-reminder-menu-item",T:{role:"menuitem",tabindex:"0"},U:[{D:"div",C:"ytp-reminder-menu-item-icon",RV:"{{icon}}"},{D:"div",C:"ytp-reminder-menu-item-label",RV:"{{text}}"}]}),U.zF=n,k.listen("click",function(X){return function(){var S=X.zF;Y.H$();S=g5G(Y)[S];Y.publish("reminderMenuItemClicked",S.serviceEndpoint||S.command)}}(U)),k.yF(this.items),
this.X[n]=k);
var m=u[n];U=null;switch(m.icon&&m.icon.iconType){case "NOTIFICATIONS":U=ezq();break;case "NOTIFICATIONS_NONE":U=bcg();break;case "NOTIFICATIONS_ACTIVE":U=g.sp()}m=m.text?g.Cw(m.text):"";k.update({icon:U,text:m})}for(;n<this.X.length;)this.X.pop().dispose();n===0?this.H$():this.Su(this.K)};
Ks.prototype.hide=function(){this.K&&this.K.removeAttribute("aria-haspopup");g.SL.prototype.hide.call(this)};
Ks.prototype.show=function(){this.K&&this.K.setAttribute("aria-haspopup","true");g.SL.prototype.show.call(this)};
Ks.prototype.nG=function(){g.Uo(this.X);g.SL.prototype.nG.call(this)};g.d(ps,g.H);
ps.prototype.S=function(){if(this.toggleButtonRenderer){var Y=this.toggleButtonRenderer;Y.isToggled?this.X(Y.toggledServiceEndpoint):this.X(Y.defaultServiceEndpoint);Y.isToggled=!Y.isToggled;Ls(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.K&&this.K.KT)this.K.H$();else{var u=V$C(this);u&&this.X(u.serviceEndpoint||u.command);u=((Y=g.z(u==null?void 0:u.command,g.Qj))==null?void 0:Y.commands)||[];a:{Y=g.A(u);for(var n=Y.next();!n.done;n=Y.next()){var U=u=void 0;if(n=(u=g.z(n.value,g.Hu$))==
null?void 0:(U=u.popup)==null?void 0:U.menuPopupRenderer){Y=n;break a}}Y=void 0}this.K||(this.K=new Ks(this.L,this.W),this.K.yF(this.element),g.b(this,this.K),this.K.subscribe("reminderMenuItemClicked",this.X,this));u=this.K;u.menuPopupRenderer=Y;u.updateMenuItems()}};
ps.prototype.X=function(Y){var u=g.z(Y,jdQ),n=g.z(Y,K5B);if(Y&&(u||n)){if(u){var U=u;var k="notification/add_upcoming_event_reminder"}else n&&(U=n,k="notification/remove_upcoming_event_reminder");if(k&&U&&U.params)for(FPu(this,k,U.params),Y=g.A(U.commands||[]),u=Y.next();!u.done;u=Y.next())if((u=u.value)&&g.z(u,pdq)){this.j=g.z(u,pdq).state;Ls(this);break}}};g.d(qo$,g.H);g.M=qo$.prototype;g.M.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.M.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.M.QF=function(Y){var u,n,U=Y==null?void 0:(u=Y.liveStreamability)==null?void 0:(n=u.liveStreamabilityRenderer)==null?void 0:n.offlineSlate;if(U){this.j=Y;u=U.liveStreamOfflineSlateRenderer;u.canShowCountdown?this.Mm():aNu(this,u);var k,m,X,S;if(n=Y==null?void 0:(k=Y.liveStreamability)==null?void 0:(m=k.liveStreamabilityRenderer)==null?void 0:(X=m.offlineSlate)==null?void 0:(S=X.liveStreamOfflineSlateRenderer)==null?void 0:S.thumbnail){k=0;m=null;X=n.thumbnails;for(S=0;S<X.length;S++)X[S].width>
k&&(k=X[S].width||0,m=X[S].url);m&&(this.background.style.backgroundImage="url("+m+")")}else this.background.style.backgroundImage="";u.actionButtons||u.reminderButton?(this.K||(this.K=new ps(this.api),this.K.yF(this.Xk("ytp-offline-slate-buttons")),g.b(this,this.K)),HcR(this.K,u.actionButtons&&u.actionButtons[0],u.reminderButton)):this.K&&HcR(this.K,null,null);this.j=Y}else this.j=null;this.Sv()};
g.M.Sv=function(Y){if(this.api.getPresentingPlayerType()===8)var u=!0;else{var n=this.api.getPlayerStateObject(),U=this.getVideoData();u=U.isLivePlayback&&(n.isBuffering()||g.V(n,2)||g.V(n,64));var k=U.autonavState===2&&g.V(n,2);n=n.isPlaying()&&!g.$R(U)&&!this.api.isAtLiveHead(void 0,!0);u=u&&!n&&!k}u&&this.j?this.KT?(Y==null?0:g.C1(Y,2))&&!this.getVideoData().xO&&(g.mU(this.element,"ytp-offline-slate-collapsed"),this.G.stop(),g.mU(this.X,"ytp-offline-slate-bar-fade"),this.W.start()):(this.show(),
this.G.start(),this.api.publish("offlineslatestatechange"),this.S&&this.api.ZX()):this.KT&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.M.Mm=function(){var Y,u,n,U,k=(Y=this.j)==null?void 0:(u=Y.liveStreamability)==null?void 0:(n=u.liveStreamabilityRenderer)==null?void 0:(U=n.offlineSlate)==null?void 0:U.liveStreamOfflineSlateRenderer;k&&(Y=Math.floor(g.iQ()/1E3),u=k.canShowCountdown&&Number(k.scheduledStartTime),!u||u<=Y?(aNu(this,k),this.countdownTimer.stop()):(aNu(this,k,g.sH(u-Y)),g.OQ(this.countdownTimer)))};
g.M.nG=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.H.prototype.nG.call(this)};tN.prototype.j=function(Y){return this.trigger&&Y.trigger?this.trigger===Y.trigger&&this.K===Y.K:!1};
tN.prototype.isExpired=function(){return(0,g.j2)()-this.X>6E4};
tN.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.K};g.d(kwq,g.vH);g.M=kwq.prototype;g.M.nG=function(){Rq(this);this.player.JS("heartbeat");g.vH.prototype.nG.call(this)};
g.M.onCueRangeEnter=function(){this.S=!0;oq(this,B$(this))};
g.M.wb=function(Y){this.heartbeatParams=Y;oq(this,B$(this))};
g.M.oK=function(Y){var u;this.player.getPresentingPlayerType()!==8&&((u=this.K)==null?void 0:u.status)!=="UNPLAYABLE"&&(g.V(Y.state,2)||g.V(Y.state,64)?(Rq(this),this.G&&(this.S=!0,oq(this,B$(this,!0)))):(g.V(Y.state,1)||g.V(Y.state,8))&&oq(this,B$(this)))};
g.M.fv=function(){this.player.getPresentingPlayerType()!==3&&oq(this,B$(this))};
g.M.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.M.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.M.VO=function(Y){switch(Y){case 4:case 3:return!1}return!0};
g.M.vl=function(Y,u,n){Y={trigger:Y,reason:u};n&&(Y.serializedServerContext=n.additionalLoggingData);g.ka("heartbeatActionPlayerTransitioned",Y)};
g.M.UX=function(Y){var u="LICENSE",n=CZG(Y);if(n)return n.reason||g.qQ[u]||"";if(Y=Y.match(fMJ))if(Y=Number(Y[1]))u=(u=AJy[Y.toString()])?u:"LICENSE";return g.qQ[u]||""};
g.M.Ey=function(){return!!this.offlineSlate&&this.offlineSlate.KT};
var fMJ=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.cH("heartbeat",kwq);})(_yt_player);
